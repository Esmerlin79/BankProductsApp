{"version":3,"names":["_reactNative","require","_reactNativeShimmerPlaceholder","_interopRequireDefault","_components","_theme","_useForm2","_react","_ProductContext","_jsxRuntime","ProductsScreen","exports","_ref","navigation","_useContext","useContext","ProductsContext","products","loading","_useState","useState","_useState2","_slicedToArray2","default","productsFilter","setProductFilter","_useForm","useForm","search","onChange","useEffect","filter","product","name","toLowerCase","includes","jsxs","SafeAreaView","style","styles","container","children","jsx","Header","title","showArrowLeft","View","contentProducts","CustomTextInput","value","placeholder","Fragment","listProductContainer","visible","Object","assign","marginTop","width","length","FlatList","data","keyExtractor","p","id","renderItem","_ref2","item","ProductCard","goToDetails","navigate","ItemSeparatorComponent","itemSeparator","flex","containerButtons","CustomButton","onPress","backgroundColor","theme","yellow","color","darkBlue","StyleSheet","create","lightWhite","padding","borderWidth","borderColor","lightGrey","borderRadius","alignSelf"],"sources":["ProductsScreen.tsx"],"sourcesContent":["import { \n    FlatList,\n    SafeAreaView,\n    StyleSheet, \n    View,\n } from \"react-native\"\n \nimport { StackScreenProps } from \"@react-navigation/stack\";\nimport ShimmerPlaceholder from 'react-native-shimmer-placeholder';\n\nimport { \n    Header,\n    CustomTextInput,\n    ProductCard,\n    CustomButton,\n } from \"../components\"\nimport theme from \"../themes/theme\"\nimport { useForm } from \"../hooks/useForm\"\nimport { ProductsStackParams } from \"../navigator/StackNavigator\"\nimport { useContext, useEffect, useState } from \"react\"\nimport { ProductsContext } from \"../context/ProductContext\"\nimport { Product } from \"../interfaces\"\n\ninterface Props extends StackScreenProps<ProductsStackParams, 'ProductsScreen'> {}\n\nexport const ProductsScreen = ({ navigation }: Props) => {\n\n    const { products, loading } = useContext(ProductsContext);\n    const [productsFilter, setProductFilter] = useState<Product[]>(products || [])\n    const { search, onChange } = useForm({\n        search: ''\n    })\n\n    useEffect(() => {\n        if(search) {\n            setProductFilter(productsFilter.filter( product => product.name.toLowerCase().includes(search.toLowerCase())))\n        } else {\n            setProductFilter(products);\n        }\n    }, [search])\n\n    useEffect(() => {\n        setProductFilter(products || []);\n    }, [products])\n\n    return (\n        <SafeAreaView style={ styles.container }>\n            <Header \n                title='BANCO PICHINCHA'\n                showArrowLeft={ false }\n            />\n\n            <View style={ styles.contentProducts }>\n                <CustomTextInput \n                    onChange={ (value) => onChange(value, 'search')}\n                    placeholder=\"Search...\"\n                    value={ search }\n                />\n                { loading && (\n                    <>\n                        <ShimmerPlaceholder\n                            style={styles.listProductContainer}\n                            visible={false}\n                        />\n                        <ShimmerPlaceholder\n                            style={{ ...styles.listProductContainer, marginTop: 10, width: '80%', }}\n                            visible={false}\n                        />\n\n                        <ShimmerPlaceholder\n                            style={{ ...styles.listProductContainer, marginTop: 10 }}\n                            visible={false}\n                        />\n                    </>\n                )}\n\n                { (!loading && productsFilter.length > 0) && (\n                    <FlatList \n                        data={ productsFilter }\n                        style={ styles.listProductContainer }\n                        keyExtractor={ (p) => p.id }\n                        renderItem={ ({ item }) => (\n                            <ProductCard \n                                name={ item.name }\n                                key={ item.id }\n                                id={ item.id }                                \n                                goToDetails={ () => navigation.navigate('ProductDetailsScreen', { product: item })}\n                            />\n                        )}\n                        ItemSeparatorComponent={ () => <View style={ styles.itemSeparator } /> }\n                    />\n                )}    \n            </View>\n\n            <View style={{ flex: 1 }}/>\n\n            <View style={ styles.containerButtons }>\n                <CustomButton \n                    onPress={() => navigation.navigate('ProductRegisterScreen', {})}\n                    title=\"Agregar\"\n                    backgroundColor={ theme.yellow }\n                    color={ theme.darkBlue }\n                />\n            </View>\n        </SafeAreaView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: theme.lightWhite,\n    },\n    contentProducts: {\n        marginTop: 40,\n        padding: 20,\n    },\n    listProductContainer: {\n        borderWidth: 1,\n        borderColor: theme.lightGrey,\n        borderRadius: 5,\n        marginTop: 40,\n    },\n    itemSeparator: {\n        borderWidth: 0.6,\n        borderColor: theme.lightGrey,\n        width: '95%',\n        alignSelf: 'center'\n    },\n    containerButtons: {\n        width: '100%',\n        padding: 20,\n        alignSelf: 'center'\n    }\n})"],"mappings":"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"}