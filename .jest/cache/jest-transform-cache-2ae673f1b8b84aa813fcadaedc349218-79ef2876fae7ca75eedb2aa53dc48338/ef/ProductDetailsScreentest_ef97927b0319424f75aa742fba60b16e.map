{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ProductDetailsScreen","_ProductContext","_jsxRuntime","describe","jest","useFakeTimers","mockProduct","id","name","description","logo","date_release","date_revision","mockRoute","params","product","it","_render","render","jsx","ProductDetailsScreen","navigation","goBack","fn","route","getByText","expect","toBeTruthy","_asyncToGenerator2","default","deleteProduct","_render2","ProductsContext","Provider","value","children","navigate","fireEvent","press","waitFor","toHaveBeenCalledWith","pop","toHaveBeenCalled"],"sources":["ProductDetailsScreen.test.tsx"],"sourcesContent":["import React from 'react';\nimport { render, fireEvent, waitFor } from '@testing-library/react-native';\nimport { ProductDetailsScreen } from '../ProductDetailsScreen';\nimport { ProductsContext } from '../../context/ProductContext';\n\ndescribe('ProductDetailsScreen', () => {\n  jest.useFakeTimers()\n\n  const mockProduct = {\n    id: '1',\n    name: 'Product 1',\n    description: 'Description of Product 1',\n    logo: 'https://example.com/product1.jpg',\n    date_release: '2023-10-27T10:00:00Z',\n    date_revision: '2023-10-28T14:30:00Z',\n  };\n\n  const mockRoute = {\n    params: {\n      product: mockProduct,\n    },\n  };\n\n  it('renders correctly', () => {\n    const { getByText } = render(\n      <ProductDetailsScreen navigation={{ goBack: jest.fn() } as any} route={mockRoute as any} />\n    );\n\n    expect(getByText(`ID: ${mockProduct.id}`)).toBeTruthy();\n    expect(getByText(`${mockProduct.name}`)).toBeTruthy();\n    expect(getByText(`${mockProduct.description}`)).toBeTruthy();\n    expect(getByText('Fecha liberacion')).toBeTruthy();\n    expect(getByText('Fecha revision')).toBeTruthy();\n  });\n\n  // it('navigates to ProductRegisterScreen on Edit button press', () => {\n  //   const { getByText } = render(\n  //     //@ts-ignore\n  //     <ProductsContext.Provider value={{ deleteProduct: jest.fn() }}>\n  //       <ProductDetailsScreen navigation={{ goBack: jest.fn(), navigate: jest.fn() } as any} route={mockRoute as any} />\n  //     </ProductsContext.Provider>\n  //   );\n\n  //   fireEvent.press(getByText('Editar'));\n  //   //@ts-ignore\n  //   expect(navigation.navigate).toHaveBeenCalledWith('ProductRegisterScreen', { product: mockProduct });\n  // });\n\n  // it('shows modal on Delete button press', async () => {\n  //   const { getByTestId, getByText } = render(\n  //     //@ts-ignore\n  //     <ProductsContext.Provider value={{ deleteProduct: jest.fn() }}>\n  //       <ProductDetailsScreen navigation={{ goBack: jest.fn(), navigate: jest.fn() } as any} route={mockRoute as any} />\n  //     </ProductsContext.Provider>\n  //   );\n\n  //   fireEvent.press(getByText('Eliminar'));\n  //   expect(getByText(`Â¿Estas seguro de eliminar el producto ${mockProduct.name}?`)).toBeTruthy();\n  // });\n\n  it('handles product deletion correctly', async () => {\n    const deleteProduct = jest.fn();\n    const { getByText } = render(\n      //@ts-ignore\n      <ProductsContext.Provider value={{ deleteProduct }}>\n        <ProductDetailsScreen navigation={{ goBack: jest.fn(), navigate: jest.fn() } as any} route={mockRoute as any} />\n      </ProductsContext.Provider>\n    );\n\n    fireEvent.press(getByText('Eliminar'));\n\n    await waitFor(() => {\n      expect(deleteProduct).toHaveBeenCalledWith(mockProduct.id);\n      //@ts-ignore\n      expect(navigation.pop).toHaveBeenCalled();\n    });\n  });\n});\n"],"mappings":";;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,qBAAA,GAAAF,OAAA;AACA,IAAAG,eAAA,GAAAH,OAAA;AAA+D,IAAAI,WAAA,GAAAJ,OAAA;AAE/DK,QAAQ,CAAC,sBAAsB,EAAE,YAAM;EACrCC,IAAI,CAACC,aAAa,CAAC,CAAC;EAEpB,IAAMC,WAAW,GAAG;IAClBC,EAAE,EAAE,GAAG;IACPC,IAAI,EAAE,WAAW;IACjBC,WAAW,EAAE,0BAA0B;IACvCC,IAAI,EAAE,kCAAkC;IACxCC,YAAY,EAAE,sBAAsB;IACpCC,aAAa,EAAE;EACjB,CAAC;EAED,IAAMC,SAAS,GAAG;IAChBC,MAAM,EAAE;MACNC,OAAO,EAAET;IACX;EACF,CAAC;EAEDU,EAAE,CAAC,mBAAmB,EAAE,YAAM;IAC5B,IAAAC,OAAA,GAAsB,IAAAC,mBAAM,EAC1B,IAAAhB,WAAA,CAAAiB,GAAA,EAACnB,qBAAA,CAAAoB,oBAAoB;QAACC,UAAU,EAAE;UAAEC,MAAM,EAAElB,IAAI,CAACmB,EAAE,CAAC;QAAE,CAAS;QAACC,KAAK,EAAEX;MAAiB,CAAE,CAC5F,CAAC;MAFOY,SAAS,GAAAR,OAAA,CAATQ,SAAS;IAIjBC,MAAM,CAACD,SAAS,CAAE,OAAMnB,WAAW,CAACC,EAAG,EAAC,CAAC,CAAC,CAACoB,UAAU,CAAC,CAAC;IACvDD,MAAM,CAACD,SAAS,CAAE,GAAEnB,WAAW,CAACE,IAAK,EAAC,CAAC,CAAC,CAACmB,UAAU,CAAC,CAAC;IACrDD,MAAM,CAACD,SAAS,CAAE,GAAEnB,WAAW,CAACG,WAAY,EAAC,CAAC,CAAC,CAACkB,UAAU,CAAC,CAAC;IAC5DD,MAAM,CAACD,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;IAClDD,MAAM,CAACD,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;EAClD,CAAC,CAAC;EA2BFX,EAAE,CAAC,oCAAoC,MAAAY,kBAAA,CAAAC,OAAA,EAAE,aAAY;IACnD,IAAMC,aAAa,GAAG1B,IAAI,CAACmB,EAAE,CAAC,CAAC;IAC/B,IAAAQ,QAAA,GAAsB,IAAAb,mBAAM,EAE1B,IAAAhB,WAAA,CAAAiB,GAAA,EAAClB,eAAA,CAAA+B,eAAe,CAACC,QAAQ;QAACC,KAAK,EAAE;UAAEJ,aAAa,EAAbA;QAAc,CAAE;QAAAK,QAAA,EACjD,IAAAjC,WAAA,CAAAiB,GAAA,EAACnB,qBAAA,CAAAoB,oBAAoB;UAACC,UAAU,EAAE;YAAEC,MAAM,EAAElB,IAAI,CAACmB,EAAE,CAAC,CAAC;YAAEa,QAAQ,EAAEhC,IAAI,CAACmB,EAAE,CAAC;UAAE,CAAS;UAACC,KAAK,EAAEX;QAAiB,CAAE;MAAC,CACxF,CAC5B,CAAC;MALOY,SAAS,GAAAM,QAAA,CAATN,SAAS;IAOjBY,sBAAS,CAACC,KAAK,CAACb,SAAS,CAAC,UAAU,CAAC,CAAC;IAEtC,MAAM,IAAAc,oBAAO,EAAC,YAAM;MAClBb,MAAM,CAACI,aAAa,CAAC,CAACU,oBAAoB,CAAClC,WAAW,CAACC,EAAE,CAAC;MAE1DmB,MAAM,CAACL,UAAU,CAACoB,GAAG,CAAC,CAACC,gBAAgB,CAAC,CAAC;IAC3C,CAAC,CAAC;EACJ,CAAC,EAAC;AACJ,CAAC,CAAC"}