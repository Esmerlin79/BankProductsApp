{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ProductDetailsScreen","_ProductContext","_jsxRuntime","describe","mockProduct","id","name","description","logo","date_release","date_revision","mockRoute","params","product","it","_render","render","jsx","ProductDetailsScreen","navigation","goBack","jest","fn","route","getByText","expect","toBeTruthy","_render2","ProductsContext","Provider","value","deleteProduct","children","navigate","getByTestId","fireEvent","press","toHaveBeenCalledWith","_asyncToGenerator2","default","_render3","_render4","waitFor","pop","toHaveBeenCalled"],"sources":["ProductDetailsScreen.test.tsx"],"sourcesContent":["import React from 'react';\nimport { render, fireEvent, waitFor } from '@testing-library/react-native';\nimport { ProductDetailsScreen } from '../ProductDetailsScreen';\nimport { ProductsContext } from '../../context/ProductContext';\n\ndescribe('ProductDetailsScreen', () => {\n  const mockProduct = {\n    id: '1',\n    name: 'Product 1',\n    description: 'Description of Product 1',\n    logo: 'https://example.com/product1.jpg',\n    date_release: '2023-10-27T10:00:00Z',\n    date_revision: '2023-10-28T14:30:00Z',\n  };\n\n  const mockRoute = {\n    params: {\n      product: mockProduct,\n    },\n  };\n\n  it('renders correctly', () => {\n    const { getByText } = render(\n      <ProductDetailsScreen navigation={{ goBack: jest.fn() } as any} route={mockRoute as any} />\n    );\n\n    expect(getByText(`ID: ${mockProduct.id}`)).toBeTruthy();\n    expect(getByText(`${mockProduct.name}`)).toBeTruthy();\n    expect(getByText(`${mockProduct.description}`)).toBeTruthy();\n    expect(getByText('Fecha liberacion')).toBeTruthy();\n    expect(getByText('Fecha revision')).toBeTruthy();\n  });\n\n  it('navigates to ProductRegisterScreen on Edit button press', () => {\n    const { getByTestId } = render(\n      //@ts-ignore\n      <ProductsContext.Provider value={{ deleteProduct: jest.fn() }}>\n        <ProductDetailsScreen navigation={{ goBack: jest.fn(), navigate: jest.fn() } as any} route={mockRoute as any} />\n      </ProductsContext.Provider>\n    );\n\n    fireEvent.press(getByTestId('edit-button'));\n    //@ts-ignore\n    expect(navigation.navigate).toHaveBeenCalledWith('ProductRegisterScreen', { product: mockProduct });\n  });\n\n  it('shows modal on Delete button press', async () => {\n    const { getByTestId, getByText } = render(\n      //@ts-ignore\n      <ProductsContext.Provider value={{ deleteProduct: jest.fn() }}>\n        <ProductDetailsScreen navigation={{ goBack: jest.fn(), navigate: jest.fn() } as any} route={mockRoute as any} />\n      </ProductsContext.Provider>\n    );\n\n    fireEvent.press(getByTestId('delete-button'));\n    expect(getByText(`Â¿Estas seguro de eliminar el producto ${mockProduct.name}?`)).toBeTruthy();\n  });\n\n  it('handles product deletion correctly', async () => {\n    const deleteProduct = jest.fn();\n    const { getByTestId } = render(\n      //@ts-ignore\n      <ProductsContext.Provider value={{ deleteProduct }}>\n        <ProductDetailsScreen navigation={{ goBack: jest.fn(), navigate: jest.fn() } as any} route={mockRoute as any} />\n      </ProductsContext.Provider>\n    );\n\n    fireEvent.press(getByTestId('delete-button'));\n    fireEvent.press(getByTestId('confirm-delete-button'));\n\n    await waitFor(() => {\n      expect(deleteProduct).toHaveBeenCalledWith(mockProduct.id);\n      //@ts-ignore\n      expect(navigation.pop).toHaveBeenCalled();\n    });\n  });\n});\n"],"mappings":";;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,qBAAA,GAAAF,OAAA;AACA,IAAAG,eAAA,GAAAH,OAAA;AAA+D,IAAAI,WAAA,GAAAJ,OAAA;AAE/DK,QAAQ,CAAC,sBAAsB,EAAE,YAAM;EACrC,IAAMC,WAAW,GAAG;IAClBC,EAAE,EAAE,GAAG;IACPC,IAAI,EAAE,WAAW;IACjBC,WAAW,EAAE,0BAA0B;IACvCC,IAAI,EAAE,kCAAkC;IACxCC,YAAY,EAAE,sBAAsB;IACpCC,aAAa,EAAE;EACjB,CAAC;EAED,IAAMC,SAAS,GAAG;IAChBC,MAAM,EAAE;MACNC,OAAO,EAAET;IACX;EACF,CAAC;EAEDU,EAAE,CAAC,mBAAmB,EAAE,YAAM;IAC5B,IAAAC,OAAA,GAAsB,IAAAC,mBAAM,EAC1B,IAAAd,WAAA,CAAAe,GAAA,EAACjB,qBAAA,CAAAkB,oBAAoB;QAACC,UAAU,EAAE;UAAEC,MAAM,EAAEC,IAAI,CAACC,EAAE,CAAC;QAAE,CAAS;QAACC,KAAK,EAAEZ;MAAiB,CAAE,CAC5F,CAAC;MAFOa,SAAS,GAAAT,OAAA,CAATS,SAAS;IAIjBC,MAAM,CAACD,SAAS,CAAE,OAAMpB,WAAW,CAACC,EAAG,EAAC,CAAC,CAAC,CAACqB,UAAU,CAAC,CAAC;IACvDD,MAAM,CAACD,SAAS,CAAE,GAAEpB,WAAW,CAACE,IAAK,EAAC,CAAC,CAAC,CAACoB,UAAU,CAAC,CAAC;IACrDD,MAAM,CAACD,SAAS,CAAE,GAAEpB,WAAW,CAACG,WAAY,EAAC,CAAC,CAAC,CAACmB,UAAU,CAAC,CAAC;IAC5DD,MAAM,CAACD,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;IAClDD,MAAM,CAACD,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;EAClD,CAAC,CAAC;EAEFZ,EAAE,CAAC,yDAAyD,EAAE,YAAM;IAClE,IAAAa,QAAA,GAAwB,IAAAX,mBAAM,EAE5B,IAAAd,WAAA,CAAAe,GAAA,EAAChB,eAAA,CAAA2B,eAAe,CAACC,QAAQ;QAACC,KAAK,EAAE;UAAEC,aAAa,EAAEV,IAAI,CAACC,EAAE,CAAC;QAAE,CAAE;QAAAU,QAAA,EAC5D,IAAA9B,WAAA,CAAAe,GAAA,EAACjB,qBAAA,CAAAkB,oBAAoB;UAACC,UAAU,EAAE;YAAEC,MAAM,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;YAAEW,QAAQ,EAAEZ,IAAI,CAACC,EAAE,CAAC;UAAE,CAAS;UAACC,KAAK,EAAEZ;QAAiB,CAAE;MAAC,CACxF,CAC5B,CAAC;MALOuB,WAAW,GAAAP,QAAA,CAAXO,WAAW;IAOnBC,sBAAS,CAACC,KAAK,CAACF,WAAW,CAAC,aAAa,CAAC,CAAC;IAE3CT,MAAM,CAACN,UAAU,CAACc,QAAQ,CAAC,CAACI,oBAAoB,CAAC,uBAAuB,EAAE;MAAExB,OAAO,EAAET;IAAY,CAAC,CAAC;EACrG,CAAC,CAAC;EAEFU,EAAE,CAAC,oCAAoC,MAAAwB,kBAAA,CAAAC,OAAA,EAAE,aAAY;IACnD,IAAAC,QAAA,GAAmC,IAAAxB,mBAAM,EAEvC,IAAAd,WAAA,CAAAe,GAAA,EAAChB,eAAA,CAAA2B,eAAe,CAACC,QAAQ;QAACC,KAAK,EAAE;UAAEC,aAAa,EAAEV,IAAI,CAACC,EAAE,CAAC;QAAE,CAAE;QAAAU,QAAA,EAC5D,IAAA9B,WAAA,CAAAe,GAAA,EAACjB,qBAAA,CAAAkB,oBAAoB;UAACC,UAAU,EAAE;YAAEC,MAAM,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;YAAEW,QAAQ,EAAEZ,IAAI,CAACC,EAAE,CAAC;UAAE,CAAS;UAACC,KAAK,EAAEZ;QAAiB,CAAE;MAAC,CACxF,CAC5B,CAAC;MALOuB,WAAW,GAAAM,QAAA,CAAXN,WAAW;MAAEV,SAAS,GAAAgB,QAAA,CAAThB,SAAS;IAO9BW,sBAAS,CAACC,KAAK,CAACF,WAAW,CAAC,eAAe,CAAC,CAAC;IAC7CT,MAAM,CAACD,SAAS,CAAE,yCAAwCpB,WAAW,CAACE,IAAK,GAAE,CAAC,CAAC,CAACoB,UAAU,CAAC,CAAC;EAC9F,CAAC,EAAC;EAEFZ,EAAE,CAAC,oCAAoC,MAAAwB,kBAAA,CAAAC,OAAA,EAAE,aAAY;IACnD,IAAMR,aAAa,GAAGV,IAAI,CAACC,EAAE,CAAC,CAAC;IAC/B,IAAAmB,QAAA,GAAwB,IAAAzB,mBAAM,EAE5B,IAAAd,WAAA,CAAAe,GAAA,EAAChB,eAAA,CAAA2B,eAAe,CAACC,QAAQ;QAACC,KAAK,EAAE;UAAEC,aAAa,EAAbA;QAAc,CAAE;QAAAC,QAAA,EACjD,IAAA9B,WAAA,CAAAe,GAAA,EAACjB,qBAAA,CAAAkB,oBAAoB;UAACC,UAAU,EAAE;YAAEC,MAAM,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;YAAEW,QAAQ,EAAEZ,IAAI,CAACC,EAAE,CAAC;UAAE,CAAS;UAACC,KAAK,EAAEZ;QAAiB,CAAE;MAAC,CACxF,CAC5B,CAAC;MALOuB,WAAW,GAAAO,QAAA,CAAXP,WAAW;IAOnBC,sBAAS,CAACC,KAAK,CAACF,WAAW,CAAC,eAAe,CAAC,CAAC;IAC7CC,sBAAS,CAACC,KAAK,CAACF,WAAW,CAAC,uBAAuB,CAAC,CAAC;IAErD,MAAM,IAAAQ,oBAAO,EAAC,YAAM;MAClBjB,MAAM,CAACM,aAAa,CAAC,CAACM,oBAAoB,CAACjC,WAAW,CAACC,EAAE,CAAC;MAE1DoB,MAAM,CAACN,UAAU,CAACwB,GAAG,CAAC,CAACC,gBAAgB,CAAC,CAAC;IAC3C,CAAC,CAAC;EACJ,CAAC,EAAC;AACJ,CAAC,CAAC"}