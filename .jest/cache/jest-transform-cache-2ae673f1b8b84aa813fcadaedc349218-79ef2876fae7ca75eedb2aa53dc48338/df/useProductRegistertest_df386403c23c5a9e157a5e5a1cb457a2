19da7a7e399f893bccde690269bfdc23
_getJestObj().mock('../useForm', function () {
  return {
    useForm: jest.fn().mockReturnValue({
      form: {
        id: 'mockId',
        name: 'mockName',
        description: 'mockDescription',
        logo: 'mockLogo',
        releaseDate: '2023-12-31',
        reviewDate: '2024-10-31'
      },
      setFormValue: jest.fn(),
      onChange: jest.fn()
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = require("@testing-library/react");
var _useProductRegister = _interopRequireDefault(require("../useProductRegister"));
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockProductsContext = {
  verifyProductId: jest.fn(),
  createProduct: jest.fn(),
  editProduct: jest.fn()
};
describe('useProductRegister', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it('should show the correct data', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook = (0, _react.renderHook)(function () {
        return (0, _useProductRegister.default)(null, mockProductsContext);
      }),
      result = _renderHook.result;
    expect(result.current.form.id).toBe('mockId');
    expect(result.current.form.name).toBe('mockName');
    expect(result.current.form.logo).toBe('mockLogo');
    expect(result.current.form.description).toBe('mockDescription');
    expect(result.current.form.releaseDate).toBe('2023-12-31');
    expect(result.current.form.reviewDate).toBe('2024-10-31');
  }));
  it('the function should be called to update logo', function () {
    var _renderHook2 = (0, _react.renderHook)(function () {
        return (0, _useProductRegister.default)(null, mockProductsContext);
      }),
      result = _renderHook2.result;
    (0, _react.act)(function () {
      result.current.onChange('mockLogo2', 'logo');
    });
    expect(result.current.onChange).toHaveBeenCalled();
  });
  it('should call createProduct on form submission', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook3 = (0, _react.renderHook)(function () {
        return (0, _useProductRegister.default)(null, mockProductsContext);
      }),
      result = _renderHook3.result;
    (0, _react.act)(function () {
      result.current.handleCreateOrUpdateProduct();
    });
    yield (0, _react.waitFor)(function () {
      expect(mockProductsContext.editProduct).toHaveBeenCalled();
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VGb3JtIiwiamVzdCIsImZuIiwibW9ja1JldHVyblZhbHVlIiwiZm9ybSIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwibG9nbyIsInJlbGVhc2VEYXRlIiwicmV2aWV3RGF0ZSIsInNldEZvcm1WYWx1ZSIsIm9uQ2hhbmdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfdXNlUHJvZHVjdFJlZ2lzdGVyIiwiX3JlcXVpcmUiLCJtb2NrUHJvZHVjdHNDb250ZXh0IiwidmVyaWZ5UHJvZHVjdElkIiwiY3JlYXRlUHJvZHVjdCIsImVkaXRQcm9kdWN0IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZGVmYXVsdCIsIl9yZW5kZXJIb29rIiwicmVuZGVySG9vayIsInVzZVByb2R1Y3RSZWdpc3RlciIsInJlc3VsdCIsImV4cGVjdCIsImN1cnJlbnQiLCJ0b0JlIiwiX3JlbmRlckhvb2syIiwiYWN0IiwidG9IYXZlQmVlbkNhbGxlZCIsIl9yZW5kZXJIb29rMyIsImhhbmRsZUNyZWF0ZU9yVXBkYXRlUHJvZHVjdCIsIndhaXRGb3IiXSwic291cmNlcyI6WyJ1c2VQcm9kdWN0UmVnaXN0ZXIudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBqZXN0LWVudmlyb25tZW50IGpzZG9tXG4qLyBcbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHVzZVByb2R1Y3RSZWdpc3RlciBmcm9tICcuLi91c2VQcm9kdWN0UmVnaXN0ZXInOyBcblxuY29uc3QgbW9ja1Byb2R1Y3RzQ29udGV4dCA9IHtcbiAgdmVyaWZ5UHJvZHVjdElkOiBqZXN0LmZuKCksXG4gIGNyZWF0ZVByb2R1Y3Q6IGplc3QuZm4oKSxcbiAgZWRpdFByb2R1Y3Q6IGplc3QuZm4oKSxcbn07XG5cbmplc3QubW9jaygnLi4vdXNlRm9ybScsICgpID0+ICh7XG4gIHVzZUZvcm06IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgIGZvcm06IHtcbiAgICAgIGlkOiAnbW9ja0lkJyxcbiAgICAgIG5hbWU6ICdtb2NrTmFtZScsXG4gICAgICBkZXNjcmlwdGlvbjogJ21vY2tEZXNjcmlwdGlvbicsXG4gICAgICBsb2dvOiAnbW9ja0xvZ28nLFxuICAgICAgcmVsZWFzZURhdGU6ICcyMDIzLTEyLTMxJyxcbiAgICAgIHJldmlld0RhdGU6ICcyMDI0LTEwLTMxJyxcbiAgICB9LFxuICAgIHNldEZvcm1WYWx1ZTogamVzdC5mbigpLFxuICAgIG9uQ2hhbmdlOiBqZXN0LmZuKCksXG4gIH0pLFxufSkpO1xuXG5kZXNjcmliZSgndXNlUHJvZHVjdFJlZ2lzdGVyJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaG93IHRoZSBjb3JyZWN0IGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZHVjdFJlZ2lzdGVyKG51bGwsIG1vY2tQcm9kdWN0c0NvbnRleHQgYXMgYW55KSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZm9ybS5pZCkudG9CZSgnbW9ja0lkJyk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmZvcm0ubmFtZSkudG9CZSgnbW9ja05hbWUnKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZm9ybS5sb2dvKS50b0JlKCdtb2NrTG9nbycpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5mb3JtLmRlc2NyaXB0aW9uKS50b0JlKCdtb2NrRGVzY3JpcHRpb24nKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZm9ybS5yZWxlYXNlRGF0ZSkudG9CZSgnMjAyMy0xMi0zMScpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5mb3JtLnJldmlld0RhdGUpLnRvQmUoJzIwMjQtMTAtMzEnKTtcbiAgfSk7XG5cbiAgaXQoJ3RoZSBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIHRvIHVwZGF0ZSBsb2dvJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2R1Y3RSZWdpc3RlcihudWxsLCBtb2NrUHJvZHVjdHNDb250ZXh0IGFzIGFueSkpO1xuICAgIFxuICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5vbkNoYW5nZSgnbW9ja0xvZ28yJywgJ2xvZ28nKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5vbkNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuLy8gICBpdCgnc2hvdWxkIHVwZGF0ZSBvdGhlciBmb3JtIGZpZWxkcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4vLyAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZHVjdFJlZ2lzdGVyKG51bGwsIG1vY2tQcm9kdWN0c0NvbnRleHQgYXMgYW55KSk7XG4gICAgXG4vLyAgICAgYWN0KCgpID0+IHtcbi8vICAgICAgIHJlc3VsdC5jdXJyZW50Lm9uQ2hhbmdlKCdOZXcgTmFtZScsICduYW1lJyk7XG4vLyAgICAgICByZXN1bHQuY3VycmVudC5vbkNoYW5nZSgnTmV3IERlc2NyaXB0aW9uJywgJ2Rlc2NyaXB0aW9uJyk7XG4vLyAgICAgICAvLyBBZGQgbW9yZSBmaWVsZHMgYXMgbmVlZGVkXG4vLyAgICAgfSk7XG5cbi8vICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQub25DaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbi8vICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZm9ybS5uYW1lKS50b0JlKCdOZXcgTmFtZScpO1xuLy8gICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5mb3JtLmRlc2NyaXB0aW9uKS50b0JlKCdOZXcgRGVzY3JpcHRpb24nKTtcbi8vICAgICAvLyBBZGQgbW9yZSBhc3NlcnRpb25zIGZvciBvdGhlciBmaWVsZHNcbi8vICAgfSk7XG4vLyB9KTtcblxuaXQoJ3Nob3VsZCBjYWxsIGNyZWF0ZVByb2R1Y3Qgb24gZm9ybSBzdWJtaXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2R1Y3RSZWdpc3RlcihudWxsLCBtb2NrUHJvZHVjdHNDb250ZXh0IGFzIGFueSkpO1xuICAgIFxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVDcmVhdGVPclVwZGF0ZVByb2R1Y3QoKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tQcm9kdWN0c0NvbnRleHQuZWRpdFByb2R1Y3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIC8vIEFkZCBtb3JlIGFzc2VydGlvbnMgYXMgbmVlZGVkXG4gICAgfSk7XG4gIH0pXG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBWUFBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLFlBQVksRUFBRTtFQUFBLE9BQU87SUFDN0JDLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxlQUFlLENBQUM7TUFDakNDLElBQUksRUFBRTtRQUNKQyxFQUFFLEVBQUUsUUFBUTtRQUNaQyxJQUFJLEVBQUUsVUFBVTtRQUNoQkMsV0FBVyxFQUFFLGlCQUFpQjtRQUM5QkMsSUFBSSxFQUFFLFVBQVU7UUFDaEJDLFdBQVcsRUFBRSxZQUFZO1FBQ3pCQyxVQUFVLEVBQUU7TUFDZCxDQUFDO01BQ0RDLFlBQVksRUFBRVYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUN2QlUsUUFBUSxFQUFFWCxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNw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