1fbe9c95166590d1a083623f0b56fc4e
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.ReactNativeModal = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var PropTypes = _interopRequireWildcard(require("prop-types"));
var animatable = _interopRequireWildcard(require("react-native-animatable"));
var _utils = require("./utils");
var _modal = _interopRequireDefault(require("./modal.style"));
var _excluded = ["animationIn", "animationInTiming", "animationOut", "animationOutTiming", "avoidKeyboard", "coverScreen", "hasBackdrop", "backdropColor", "backdropOpacity", "backdropTransitionInTiming", "backdropTransitionOutTiming", "customBackdrop", "children", "isVisible", "onModalShow", "onBackButtonPress", "useNativeDriver", "propagateSwipe", "style"],
  _excluded2 = ["testID"];
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
(0, _utils.initializeAnimations)();
var defaultProps = {
  animationIn: 'slideInUp',
  animationInTiming: 300,
  animationOut: 'slideOutDown',
  animationOutTiming: 300,
  avoidKeyboard: false,
  coverScreen: true,
  hasBackdrop: true,
  backdropColor: 'black',
  backdropOpacity: 0.7,
  backdropTransitionInTiming: 300,
  backdropTransitionOutTiming: 300,
  customBackdrop: null,
  useNativeDriver: false,
  deviceHeight: null,
  deviceWidth: null,
  hideModalContentWhileAnimating: false,
  propagateSwipe: false,
  isVisible: false,
  panResponderThreshold: 4,
  swipeThreshold: 100,
  onModalShow: function onModalShow() {
    return null;
  },
  onModalWillShow: function onModalWillShow() {
    return null;
  },
  onModalHide: function onModalHide() {
    return null;
  },
  onModalWillHide: function onModalWillHide() {
    return null;
  },
  onBackdropPress: function onBackdropPress() {
    return null;
  },
  onBackButtonPress: function onBackButtonPress() {
    return null;
  },
  scrollTo: null,
  scrollOffset: 0,
  scrollOffsetMax: 0,
  scrollHorizontal: false,
  statusBarTranslucent: false,
  supportedOrientations: ['portrait', 'landscape']
};
var extractAnimationFromProps = function extractAnimationFromProps(props) {
  return {
    animationIn: props.animationIn,
    animationOut: props.animationOut
  };
};
var ReactNativeModal = exports.ReactNativeModal = function (_React$Component) {
  (0, _inherits2.default)(ReactNativeModal, _React$Component);
  var _super = _createSuper(ReactNativeModal);
  function ReactNativeModal(props) {
    var _this;
    (0, _classCallCheck2.default)(this, ReactNativeModal);
    _this = _super.call(this, props);
    _this.state = {
      showContent: true,
      isVisible: false,
      deviceWidth: _reactNative.Dimensions.get('window').width,
      deviceHeight: _reactNative.Dimensions.get('window').height,
      isSwipeable: !!_this.props.swipeDirection,
      pan: null
    };
    _this.isTransitioning = false;
    _this.inSwipeClosingState = false;
    _this.currentSwipingDirection = null;
    _this.panResponder = null;
    _this.didUpdateDimensionsEmitter = null;
    _this.interactionHandle = null;
    _this.getDeviceHeight = function () {
      return _this.props.deviceHeight || _this.state.deviceHeight;
    };
    _this.getDeviceWidth = function () {
      return _this.props.deviceWidth || _this.state.deviceWidth;
    };
    _this.onBackButtonPress = function () {
      if (_this.props.onBackButtonPress && _this.props.isVisible) {
        _this.props.onBackButtonPress();
        return true;
      }
      return false;
    };
    _this.shouldPropagateSwipe = function (evt, gestureState) {
      return typeof _this.props.propagateSwipe === 'function' ? _this.props.propagateSwipe(evt, gestureState) : _this.props.propagateSwipe;
    };
    _this.buildPanResponder = function () {
      var animEvt = null;
      _this.panResponder = _reactNative.PanResponder.create({
        onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(evt, gestureState) {
          if (!_this.shouldPropagateSwipe(evt, gestureState)) {
            var shouldSetPanResponder = Math.abs(gestureState.dx) >= _this.props.panResponderThreshold || Math.abs(gestureState.dy) >= _this.props.panResponderThreshold;
            if (shouldSetPanResponder && _this.props.onSwipeStart) {
              _this.props.onSwipeStart(gestureState);
            }
            _this.currentSwipingDirection = _this.getSwipingDirection(gestureState);
            animEvt = _this.createAnimationEventForSwipe();
            return shouldSetPanResponder;
          }
          return false;
        },
        onStartShouldSetPanResponder: function onStartShouldSetPanResponder(e, gestureState) {
          var hasScrollableView = e._dispatchInstances && e._dispatchInstances.some(function (instance) {
            return /scrollview|flatlist/i.test(instance.type);
          });
          if (hasScrollableView && _this.shouldPropagateSwipe(e, gestureState) && _this.props.scrollTo && _this.props.scrollOffset > 0) {
            return false;
          }
          if (_this.props.onSwipeStart) {
            _this.props.onSwipeStart(gestureState);
          }
          _this.currentSwipingDirection = null;
          return true;
        },
        onPanResponderMove: function onPanResponderMove(evt, gestureState) {
          if (!_this.currentSwipingDirection) {
            if (gestureState.dx === 0 && gestureState.dy === 0) {
              return;
            }
            _this.currentSwipingDirection = _this.getSwipingDirection(gestureState);
            animEvt = _this.createAnimationEventForSwipe();
          }
          if (_this.isSwipeDirectionAllowed(gestureState)) {
            var newOpacityFactor = 1 - _this.calcDistancePercentage(gestureState);
            _this.backdropRef && _this.backdropRef.transitionTo({
              opacity: _this.props.backdropOpacity * newOpacityFactor
            });
            animEvt(evt, gestureState);
            if (_this.props.onSwipeMove) {
              _this.props.onSwipeMove(newOpacityFactor, gestureState);
            }
          } else {
            if (_this.props.scrollTo) {
              if (_this.props.scrollHorizontal) {
                var offsetX = -gestureState.dx;
                if (offsetX > _this.props.scrollOffsetMax) {
                  offsetX -= (offsetX - _this.props.scrollOffsetMax) / 2;
                }
                _this.props.scrollTo({
                  x: offsetX,
                  animated: false
                });
              } else {
                var offsetY = -gestureState.dy;
                if (offsetY > _this.props.scrollOffsetMax) {
                  offsetY -= (offsetY - _this.props.scrollOffsetMax) / 2;
                }
                _this.props.scrollTo({
                  y: offsetY,
                  animated: false
                });
              }
            }
          }
        },
        onPanResponderRelease: function onPanResponderRelease(evt, gestureState) {
          var accDistance = _this.getAccDistancePerDirection(gestureState);
          if (accDistance > _this.props.swipeThreshold && _this.isSwipeDirectionAllowed(gestureState)) {
            if (_this.props.onSwipeComplete) {
              _this.inSwipeClosingState = true;
              _this.props.onSwipeComplete({
                swipingDirection: _this.getSwipingDirection(gestureState)
              }, gestureState);
              return;
            }
            if (_this.props.onSwipe) {
              _this.inSwipeClosingState = true;
              _this.props.onSwipe();
              return;
            }
          }
          if (_this.props.onSwipeCancel) {
            _this.props.onSwipeCancel(gestureState);
          }
          if (_this.backdropRef) {
            _this.backdropRef.transitionTo({
              opacity: _this.props.backdropOpacity
            });
          }
          _reactNative.Animated.spring(_this.state.pan, {
            toValue: {
              x: 0,
              y: 0
            },
            bounciness: 0,
            useNativeDriver: false
          }).start();
          if (_this.props.scrollTo) {
            if (_this.props.scrollOffset > _this.props.scrollOffsetMax) {
              _this.props.scrollTo({
                y: _this.props.scrollOffsetMax,
                animated: true
              });
            }
          }
        }
      });
    };
    _this.getAccDistancePerDirection = function (gestureState) {
      switch (_this.currentSwipingDirection) {
        case 'up':
          return -gestureState.dy;
        case 'down':
          return gestureState.dy;
        case 'right':
          return gestureState.dx;
        case 'left':
          return -gestureState.dx;
        default:
          return 0;
      }
    };
    _this.getSwipingDirection = function (gestureState) {
      if (Math.abs(gestureState.dx) > Math.abs(gestureState.dy)) {
        return gestureState.dx > 0 ? 'right' : 'left';
      }
      return gestureState.dy > 0 ? 'down' : 'up';
    };
    _this.calcDistancePercentage = function (gestureState) {
      switch (_this.currentSwipingDirection) {
        case 'down':
          return (gestureState.moveY - gestureState.y0) / ((_this.props.deviceHeight || _this.state.deviceHeight) - gestureState.y0);
        case 'up':
          return (0, _utils.reversePercentage)(gestureState.moveY / gestureState.y0);
        case 'left':
          return (0, _utils.reversePercentage)(gestureState.moveX / gestureState.x0);
        case 'right':
          return (gestureState.moveX - gestureState.x0) / ((_this.props.deviceWidth || _this.state.deviceWidth) - gestureState.x0);
        default:
          return 0;
      }
    };
    _this.createAnimationEventForSwipe = function () {
      if (_this.currentSwipingDirection === 'right' || _this.currentSwipingDirection === 'left') {
        return _reactNative.Animated.event([null, {
          dx: _this.state.pan.x
        }], {
          useNativeDriver: false
        });
      } else {
        return _reactNative.Animated.event([null, {
          dy: _this.state.pan.y
        }], {
          useNativeDriver: false
        });
      }
    };
    _this.isDirectionIncluded = function (direction) {
      return Array.isArray(_this.props.swipeDirection) ? _this.props.swipeDirection.includes(direction) : _this.props.swipeDirection === direction;
    };
    _this.isSwipeDirectionAllowed = function (_ref) {
      var dy = _ref.dy,
        dx = _ref.dx;
      var draggedDown = dy > 0;
      var draggedUp = dy < 0;
      var draggedLeft = dx < 0;
      var draggedRight = dx > 0;
      if (_this.currentSwipingDirection === 'up' && _this.isDirectionIncluded('up') && draggedUp) {
        return true;
      } else if (_this.currentSwipingDirection === 'down' && _this.isDirectionIncluded('down') && draggedDown) {
        return true;
      } else if (_this.currentSwipingDirection === 'right' && _this.isDirectionIncluded('right') && draggedRight) {
        return true;
      } else if (_this.currentSwipingDirection === 'left' && _this.isDirectionIncluded('left') && draggedLeft) {
        return true;
      }
      return false;
    };
    _this.handleDimensionsUpdate = function () {
      if (!_this.props.deviceHeight && !_this.props.deviceWidth) {
        var deviceWidth = _reactNative.Dimensions.get('window').width;
        var deviceHeight = _reactNative.Dimensions.get('window').height;
        if (deviceWidth !== _this.state.deviceWidth || deviceHeight !== _this.state.deviceHeight) {
          _this.setState({
            deviceWidth: deviceWidth,
            deviceHeight: deviceHeight
          });
        }
      }
    };
    _this.open = function () {
      if (_this.isTransitioning) {
        return;
      }
      _this.isTransitioning = true;
      if (_this.backdropRef) {
        _this.backdropRef.transitionTo({
          opacity: _this.props.backdropOpacity
        }, _this.props.backdropTransitionInTiming);
      }
      if (_this.state.isSwipeable) {
        _this.state.pan.setValue({
          x: 0,
          y: 0
        });
      }
      if (_this.contentRef) {
        _this.props.onModalWillShow && _this.props.onModalWillShow();
        if (_this.interactionHandle == null) {
          _this.interactionHandle = _reactNative.InteractionManager.createInteractionHandle();
        }
        _this.contentRef.animate(_this.animationIn, _this.props.animationInTiming).then(function () {
          _this.isTransitioning = false;
          if (_this.interactionHandle) {
            _reactNative.InteractionManager.clearInteractionHandle(_this.interactionHandle);
            _this.interactionHandle = null;
          }
          if (!_this.props.isVisible) {
            _this.close();
          } else {
            _this.props.onModalShow();
          }
        });
      }
    };
    _this.close = function () {
      if (_this.isTransitioning) {
        return;
      }
      _this.isTransitioning = true;
      if (_this.backdropRef) {
        _this.backdropRef.transitionTo({
          opacity: 0
        }, _this.props.backdropTransitionOutTiming);
      }
      var animationOut = _this.animationOut;
      if (_this.inSwipeClosingState) {
        _this.inSwipeClosingState = false;
        if (_this.currentSwipingDirection === 'up') {
          animationOut = 'slideOutUp';
        } else if (_this.currentSwipingDirection === 'down') {
          animationOut = 'slideOutDown';
        } else if (_this.currentSwipingDirection === 'right') {
          animationOut = 'slideOutRight';
        } else if (_this.currentSwipingDirection === 'left') {
          animationOut = 'slideOutLeft';
        }
      }
      if (_this.contentRef) {
        _this.props.onModalWillHide && _this.props.onModalWillHide();
        if (_this.interactionHandle == null) {
          _this.interactionHandle = _reactNative.InteractionManager.createInteractionHandle();
        }
        _this.contentRef.animate(animationOut, _this.props.animationOutTiming).then(function () {
          _this.isTransitioning = false;
          if (_this.interactionHandle) {
            _reactNative.InteractionManager.clearInteractionHandle(_this.interactionHandle);
            _this.interactionHandle = null;
          }
          if (_this.props.isVisible) {
            _this.open();
          } else {
            _this.setState({
              showContent: false
            }, function () {
              _this.setState({
                isVisible: false
              }, function () {
                _this.props.onModalHide();
              });
            });
          }
        });
      }
    };
    _this.makeBackdrop = function () {
      if (!_this.props.hasBackdrop) {
        return null;
      }
      if (_this.props.customBackdrop && !React.isValidElement(_this.props.customBackdrop)) {
        console.warn('Invalid customBackdrop element passed to Modal. You must provide a valid React element.');
      }
      var _this$props = _this.props,
        customBackdrop = _this$props.customBackdrop,
        backdropColor = _this$props.backdropColor,
        useNativeDriver = _this$props.useNativeDriver,
        useNativeDriverForBackdrop = _this$props.useNativeDriverForBackdrop,
        onBackdropPress = _this$props.onBackdropPress;
      var hasCustomBackdrop = !!_this.props.customBackdrop;
      var backdropComputedStyle = [{
        width: _this.getDeviceWidth(),
        height: _this.getDeviceHeight(),
        backgroundColor: _this.state.showContent && !hasCustomBackdrop ? backdropColor : 'transparent'
      }];
      var backdropWrapper = React.createElement(animatable.View, {
        ref: function ref(_ref2) {
          return _this.backdropRef = _ref2;
        },
        useNativeDriver: useNativeDriverForBackdrop !== undefined ? useNativeDriverForBackdrop : useNativeDriver,
        style: [_modal.default.backdrop, backdropComputedStyle]
      }, hasCustomBackdrop && customBackdrop);
      if (hasCustomBackdrop) {
        return backdropWrapper;
      }
      return React.createElement(_reactNative.TouchableWithoutFeedback, {
        onPress: onBackdropPress
      }, backdropWrapper);
    };
    var _buildAnimations = (0, _utils.buildAnimations)(extractAnimationFromProps(props)),
      animationIn = _buildAnimations.animationIn,
      animationOut = _buildAnimations.animationOut;
    _this.animationIn = animationIn;
    _this.animationOut = animationOut;
    if (_this.state.isSwipeable) {
      _this.state = Object.assign({}, _this.state, {
        pan: new _reactNative.Animated.ValueXY()
      });
      _this.buildPanResponder();
    }
    if (props.isVisible) {
      _this.state = Object.assign({}, _this.state, {
        isVisible: true,
        showContent: true
      });
    }
    return _this;
  }
  (0, _createClass2.default)(ReactNativeModal, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.props.onSwipe) {
        console.warn('`<Modal onSwipe="..." />` is deprecated and will be removed starting from 13.0.0. Use `<Modal onSwipeComplete="..." />` instead.');
      }
      this.didUpdateDimensionsEmitter = _reactNative.DeviceEventEmitter.addListener('didUpdateDimensions', this.handleDimensionsUpdate);
      if (this.state.isVisible) {
        this.open();
      }
      _reactNative.BackHandler.addEventListener('hardwareBackPress', this.onBackButtonPress);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _reactNative.BackHandler.removeEventListener('hardwareBackPress', this.onBackButtonPress);
      if (this.didUpdateDimensionsEmitter) {
        this.didUpdateDimensionsEmitter.remove();
      }
      if (this.interactionHandle) {
        _reactNative.InteractionManager.clearInteractionHandle(this.interactionHandle);
        this.interactionHandle = null;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (this.props.animationIn !== prevProps.animationIn || this.props.animationOut !== prevProps.animationOut) {
        var _buildAnimations2 = (0, _utils.buildAnimations)(extractAnimationFromProps(this.props)),
          animationIn = _buildAnimations2.animationIn,
          animationOut = _buildAnimations2.animationOut;
        this.animationIn = animationIn;
        this.animationOut = animationOut;
      }
      if (this.props.backdropOpacity !== prevProps.backdropOpacity && this.backdropRef) {
        this.backdropRef.transitionTo({
          opacity: this.props.backdropOpacity
        }, this.props.backdropTransitionInTiming);
      }
      if (this.props.isVisible && !prevProps.isVisible) {
        this.open();
      } else if (!this.props.isVisible && prevProps.isVisible) {
        this.close();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var _this$props2 = this.props,
        animationIn = _this$props2.animationIn,
        animationInTiming = _this$props2.animationInTiming,
        animationOut = _this$props2.animationOut,
        animationOutTiming = _this$props2.animationOutTiming,
        avoidKeyboard = _this$props2.avoidKeyboard,
        coverScreen = _this$props2.coverScreen,
        hasBackdrop = _this$props2.hasBackdrop,
        backdropColor = _this$props2.backdropColor,
        backdropOpacity = _this$props2.backdropOpacity,
        backdropTransitionInTiming = _this$props2.backdropTransitionInTiming,
        backdropTransitionOutTiming = _this$props2.backdropTransitionOutTiming,
        customBackdrop = _this$props2.customBackdrop,
        children = _this$props2.children,
        isVisible = _this$props2.isVisible,
        onModalShow = _this$props2.onModalShow,
        onBackButtonPress = _this$props2.onBackButtonPress,
        useNativeDriver = _this$props2.useNativeDriver,
        propagateSwipe = _this$props2.propagateSwipe,
        style = _this$props2.style,
        otherProps = (0, _objectWithoutProperties2.default)(_this$props2, _excluded);
      var testID = otherProps.testID,
        containerProps = (0, _objectWithoutProperties2.default)(otherProps, _excluded2);
      var computedStyle = [{
        margin: this.getDeviceWidth() * 0.05,
        transform: [{
          translateY: 0
        }]
      }, _modal.default.content, style];
      var panHandlers = {};
      var panPosition = {};
      if (this.state.isSwipeable) {
        panHandlers = Object.assign({}, this.panResponder.panHandlers);
        if (useNativeDriver) {
          panPosition = {
            transform: this.state.pan.getTranslateTransform()
          };
        } else {
          panPosition = this.state.pan.getLayout();
        }
      }
      var _children = this.props.hideModalContentWhileAnimating && this.props.useNativeDriver && !this.state.showContent ? React.createElement(animatable.View, null) : children;
      var containerView = React.createElement(animatable.View, Object.assign({}, panHandlers, {
        ref: function ref(_ref3) {
          return _this2.contentRef = _ref3;
        },
        style: [panPosition, computedStyle],
        pointerEvents: "box-none",
        useNativeDriver: useNativeDriver
      }, containerProps), _children);
      if (!coverScreen && this.state.isVisible) {
        return React.createElement(_reactNative.View, {
          pointerEvents: "box-none",
          style: [_modal.default.backdrop, _modal.default.containerBox]
        }, this.makeBackdrop(), containerView);
      }
      return React.createElement(_reactNative.Modal, Object.assign({
        transparent: true,
        animationType: 'none',
        visible: this.state.isVisible,
        onRequestClose: onBackButtonPress
      }, otherProps), this.makeBackdrop(), avoidKeyboard ? React.createElement(_reactNative.KeyboardAvoidingView, {
        behavior: _reactNative.Platform.OS === 'ios' ? 'padding' : undefined,
        pointerEvents: "box-none",
        style: computedStyle.concat([{
          margin: 0
        }])
      }, containerView) : containerView);
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps, state) {
      if (!state.isVisible && nextProps.isVisible) {
        return {
          isVisible: true,
          showContent: true
        };
      }
      return null;
    }
  }]);
  return ReactNativeModal;
}(React.Component);
ReactNativeModal.propTypes = {
  animationIn: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),
  animationInTiming: PropTypes.number,
  animationOut: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),
  animationOutTiming: PropTypes.number,
  avoidKeyboard: PropTypes.bool,
  coverScreen: PropTypes.bool,
  hasBackdrop: PropTypes.bool,
  backdropColor: PropTypes.string,
  backdropOpacity: PropTypes.number,
  backdropTransitionInTiming: PropTypes.number,
  backdropTransitionOutTiming: PropTypes.number,
  customBackdrop: PropTypes.node,
  children: PropTypes.node.isRequired,
  deviceHeight: PropTypes.number,
  deviceWidth: PropTypes.number,
  isVisible: PropTypes.bool.isRequired,
  hideModalContentWhileAnimating: PropTypes.bool,
  propagateSwipe: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),
  onModalShow: PropTypes.func,
  onModalWillShow: PropTypes.func,
  onModalHide: PropTypes.func,
  onModalWillHide: PropTypes.func,
  onBackButtonPress: PropTypes.func,
  onBackdropPress: PropTypes.func,
  panResponderThreshold: PropTypes.number,
  onSwipeStart: PropTypes.func,
  onSwipeMove: PropTypes.func,
  onSwipeComplete: PropTypes.func,
  onSwipeCancel: PropTypes.func,
  swipeThreshold: PropTypes.number,
  swipeDirection: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOf(['up', 'down', 'left', 'right'])), PropTypes.oneOf(['up', 'down', 'left', 'right'])]),
  useNativeDriver: PropTypes.bool,
  useNativeDriverForBackdrop: PropTypes.bool,
  style: PropTypes.any,
  scrollTo: PropTypes.func,
  scrollOffset: PropTypes.number,
  scrollOffsetMax: PropTypes.number,
  scrollHorizontal: PropTypes.bool,
  supportedOrientations: PropTypes.arrayOf(PropTypes.oneOf(['portrait', 'portrait-upside-down', 'landscape', 'landscape-left', 'landscape-right']))
};
ReactNativeModal.defaultProps = defaultProps;
var _default = exports.default = ReactNativeModal;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIlByb3BUeXBlcyIsImFuaW1hdGFibGUiLCJfdXRpbHMiLCJfbW9kYWwiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2V4Y2x1ZGVkIiwiX2V4Y2x1ZGVkMiIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwidmFsdWVPZiIsImluaXRpYWxpemVBbmltYXRpb25zIiwiZGVmYXVsdFByb3BzIiwiYW5pbWF0aW9uSW4iLCJhbmltYXRpb25JblRpbWluZyIsImFuaW1hdGlvbk91dCIsImFuaW1hdGlvbk91dFRpbWluZyIsImF2b2lkS2V5Ym9hcmQiLCJjb3ZlclNjcmVlbiIsImhhc0JhY2tkcm9wIiwiYmFja2Ryb3BDb2xvciIsImJhY2tkcm9wT3BhY2l0eSIsImJhY2tkcm9wVHJhbnNpdGlvbkluVGltaW5nIiwiYmFja2Ryb3BUcmFuc2l0aW9uT3V0VGltaW5nIiwiY3VzdG9tQmFja2Ryb3AiLCJ1c2VOYXRpdmVEcml2ZXIiLCJkZXZpY2VIZWlnaHQiLCJkZXZpY2VXaWR0aCIsImhpZGVNb2RhbENvbnRlbnRXaGlsZUFuaW1hdGluZyIsInByb3BhZ2F0ZVN3aXBlIiwiaXNWaXNpYmxlIiwicGFuUmVzcG9uZGVyVGhyZXNob2xkIiwic3dpcGVUaHJlc2hvbGQiLCJvbk1vZGFsU2hvdyIsIm9uTW9kYWxXaWxsU2hvdyIsIm9uTW9kYWxIaWRlIiwib25Nb2RhbFdpbGxIaWRlIiwib25CYWNrZHJvcFByZXNzIiwib25CYWNrQnV0dG9uUHJlc3MiLCJzY3JvbGxUbyIsInNjcm9sbE9mZnNldCIsInNjcm9sbE9mZnNldE1heCIsInNjcm9sbEhvcml6b250YWwiLCJzdGF0dXNCYXJUcmFuc2x1Y2VudCIsInN1cHBvcnRlZE9yaWVudGF0aW9ucyIsImV4dHJhY3RBbmltYXRpb25Gcm9tUHJvcHMiLCJwcm9wcyIsIlJlYWN0TmF0aXZlTW9kYWwiLCJleHBvcnRzIiwiX1JlYWN0JENvbXBvbmVudCIsIl9pbmhlcml0czIiLCJfc3VwZXIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJzdGF0ZSIsInNob3dDb250ZW50IiwiRGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwiaXNTd2lwZWFibGUiLCJzd2lwZURpcmVjdGlvbiIsInBhbiIsImlzVHJhbnNpdGlvbmluZyIsImluU3dpcGVDbG9zaW5nU3RhdGUiLCJjdXJyZW50U3dpcGluZ0RpcmVjdGlvbiIsInBhblJlc3BvbmRlciIsImRpZFVwZGF0ZURpbWVuc2lvbnNFbWl0dGVyIiwiaW50ZXJhY3Rpb25IYW5kbGUiLCJnZXREZXZpY2VIZWlnaHQiLCJnZXREZXZpY2VXaWR0aCIsInNob3VsZFByb3BhZ2F0ZVN3aXBlIiwiZXZ0IiwiZ2VzdHVyZVN0YXRlIiwiYnVpbGRQYW5SZXNwb25kZXIiLCJhbmltRXZ0IiwiUGFuUmVzcG9uZGVyIiwiY3JlYXRlIiwib25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyIiwic2hvdWxkU2V0UGFuUmVzcG9uZGVyIiwiTWF0aCIsImFicyIsImR4IiwiZHkiLCJvblN3aXBlU3RhcnQiLCJnZXRTd2lwaW5nRGlyZWN0aW9uIiwiY3JlYXRlQW5pbWF0aW9uRXZlbnRGb3JTd2lwZSIsIm9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXIiLCJoYXNTY3JvbGxhYmxlVmlldyIsIl9kaXNwYXRjaEluc3RhbmNlcyIsInNvbWUiLCJpbnN0YW5jZSIsInRlc3QiLCJ0eXBlIiwib25QYW5SZXNwb25kZXJNb3ZlIiwiaXNTd2lwZURpcmVjdGlvbkFsbG93ZWQiLCJuZXdPcGFjaXR5RmFjdG9yIiwiY2FsY0Rpc3RhbmNlUGVyY2VudGFnZSIsImJhY2tkcm9wUmVmIiwidHJhbnNpdGlvblRvIiwib3BhY2l0eSIsIm9uU3dpcGVNb3ZlIiwib2Zmc2V0WCIsIngiLCJhbmltYXRlZCIsIm9mZnNldFkiLCJ5Iiwib25QYW5SZXNwb25kZXJSZWxlYXNlIiwiYWNjRGlzdGFuY2UiLCJnZXRBY2NEaXN0YW5jZVBlckRpcmVjdGlvbiIsIm9uU3dpcGVDb21wbGV0ZSIsInN3aXBpbmdEaXJlY3Rpb24iLCJvblN3aXBlIiwib25Td2lwZUNhbmNlbCIsIkFuaW1hdGVkIiwic3ByaW5nIiwidG9WYWx1ZSIsImJvdW5jaW5lc3MiLCJzdGFydCIsIm1vdmVZIiwieTAiLCJyZXZlcnNlUGVyY2VudGFnZSIsIm1vdmVYIiwieDAiLCJldmVudCIsImlzRGlyZWN0aW9uSW5jbHVkZWQiLCJkaXJlY3Rpb24iLCJBcnJheSIsImlzQXJyYXkiLCJpbmNsdWRlcyIsIl9yZWYiLCJkcmFnZ2VkRG93biIsImRyYWdnZWRVcCIsImRyYWdnZWRMZWZ0IiwiZHJhZ2dlZFJpZ2h0IiwiaGFuZGxlRGltZW5zaW9uc1VwZGF0ZSIsInNldFN0YXRlIiwib3BlbiIsInNldFZhbHVlIiwiY29udGVudFJlZiIsIkludGVyYWN0aW9uTWFuYWdlciIsImNyZWF0ZUludGVyYWN0aW9uSGFuZGxlIiwiYW5pbWF0ZSIsInRoZW4iLCJjbGVhckludGVyYWN0aW9uSGFuZGxlIiwiY2xvc2UiLCJtYWtlQmFja2Ryb3AiLCJpc1ZhbGlkRWxlbWVudCIsImNvbnNvbGUiLCJ3YXJuIiwiX3RoaXMkcHJvcHMiLCJ1c2VOYXRpdmVEcml2ZXJGb3JCYWNrZHJvcCIsImhhc0N1c3RvbUJhY2tkcm9wIiwiYmFja2Ryb3BDb21wdXRlZFN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2Ryb3BXcmFwcGVyIiwiY3JlYXRlRWxlbWVudCIsIlZpZXciLCJyZWYiLCJ1bmRlZmluZWQiLCJzdHlsZSIsInN0eWxlcyIsImJhY2tkcm9wIiwiVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIiwib25QcmVzcyIsIl9idWlsZEFuaW1hdGlvbnMiLCJidWlsZEFuaW1hdGlvbnMiLCJhc3NpZ24iLCJWYWx1ZVhZIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwiY29tcG9uZW50RGlkTW91bnQiLCJEZXZpY2VFdmVudEVtaXR0ZXIiLCJhZGRMaXN0ZW5lciIsIkJhY2tIYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsIl9idWlsZEFuaW1hdGlvbnMyIiwicmVuZGVyIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHMyIiwiY2hpbGRyZW4iLCJvdGhlclByb3BzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsInRlc3RJRCIsImNvbnRhaW5lclByb3BzIiwiY29tcHV0ZWRTdHlsZSIsIm1hcmdpbiIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZVkiLCJjb250ZW50IiwicGFuSGFuZGxlcnMiLCJwYW5Qb3NpdGlvbiIsImdldFRyYW5zbGF0ZVRyYW5zZm9ybSIsImdldExheW91dCIsIl9jaGlsZHJlbiIsImNvbnRhaW5lclZpZXciLCJwb2ludGVyRXZlbnRzIiwiY29udGFpbmVyQm94IiwiTW9kYWwiLCJ0cmFuc3BhcmVudCIsImFuaW1hdGlvblR5cGUiLCJ2aXNpYmxlIiwib25SZXF1ZXN0Q2xvc2UiLCJLZXlib2FyZEF2b2lkaW5nVmlldyIsImJlaGF2aW9yIiwiUGxhdGZvcm0iLCJPUyIsImNvbmNhdCIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIm5leHRQcm9wcyIsIkNvbXBvbmVudCIsInByb3BUeXBlcyIsIm9uZU9mVHlwZSIsInN0cmluZyIsIm9iamVjdCIsIm51bWJlciIsImJvb2wiLCJub2RlIiwiaXNSZXF1aXJlZCIsImZ1bmMiLCJhcnJheU9mIiwib25lT2YiLCJhbnkiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIm1vZGFsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFuaW1hdGVkLCBEZXZpY2VFdmVudEVtaXR0ZXIsIERpbWVuc2lvbnMsIEludGVyYWN0aW9uTWFuYWdlciwgS2V5Ym9hcmRBdm9pZGluZ1ZpZXcsIE1vZGFsLCBQYW5SZXNwb25kZXIsIEJhY2tIYW5kbGVyLCBQbGF0Zm9ybSwgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrLCBWaWV3LCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBhbmltYXRhYmxlIGZyb20gJ3JlYWN0LW5hdGl2ZS1hbmltYXRhYmxlJztcbmltcG9ydCB7IGluaXRpYWxpemVBbmltYXRpb25zLCBidWlsZEFuaW1hdGlvbnMsIHJldmVyc2VQZXJjZW50YWdlLCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL21vZGFsLnN0eWxlJztcbi8vIE92ZXJyaWRlIGRlZmF1bHQgcmVhY3QtbmF0aXZlLWFuaW1hdGFibGUgYW5pbWF0aW9uc1xuaW5pdGlhbGl6ZUFuaW1hdGlvbnMoKTtcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbmltYXRpb25JbjogJ3NsaWRlSW5VcCcsXG4gICAgYW5pbWF0aW9uSW5UaW1pbmc6IDMwMCxcbiAgICBhbmltYXRpb25PdXQ6ICdzbGlkZU91dERvd24nLFxuICAgIGFuaW1hdGlvbk91dFRpbWluZzogMzAwLFxuICAgIGF2b2lkS2V5Ym9hcmQ6IGZhbHNlLFxuICAgIGNvdmVyU2NyZWVuOiB0cnVlLFxuICAgIGhhc0JhY2tkcm9wOiB0cnVlLFxuICAgIGJhY2tkcm9wQ29sb3I6ICdibGFjaycsXG4gICAgYmFja2Ryb3BPcGFjaXR5OiAwLjcsXG4gICAgYmFja2Ryb3BUcmFuc2l0aW9uSW5UaW1pbmc6IDMwMCxcbiAgICBiYWNrZHJvcFRyYW5zaXRpb25PdXRUaW1pbmc6IDMwMCxcbiAgICBjdXN0b21CYWNrZHJvcDogbnVsbCxcbiAgICB1c2VOYXRpdmVEcml2ZXI6IGZhbHNlLFxuICAgIGRldmljZUhlaWdodDogbnVsbCxcbiAgICBkZXZpY2VXaWR0aDogbnVsbCxcbiAgICBoaWRlTW9kYWxDb250ZW50V2hpbGVBbmltYXRpbmc6IGZhbHNlLFxuICAgIHByb3BhZ2F0ZVN3aXBlOiBmYWxzZSxcbiAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgIHBhblJlc3BvbmRlclRocmVzaG9sZDogNCxcbiAgICBzd2lwZVRocmVzaG9sZDogMTAwLFxuICAgIG9uTW9kYWxTaG93OiAoKCkgPT4gbnVsbCksXG4gICAgb25Nb2RhbFdpbGxTaG93OiAoKCkgPT4gbnVsbCksXG4gICAgb25Nb2RhbEhpZGU6ICgoKSA9PiBudWxsKSxcbiAgICBvbk1vZGFsV2lsbEhpZGU6ICgoKSA9PiBudWxsKSxcbiAgICBvbkJhY2tkcm9wUHJlc3M6ICgoKSA9PiBudWxsKSxcbiAgICBvbkJhY2tCdXR0b25QcmVzczogKCgpID0+IG51bGwpLFxuICAgIHNjcm9sbFRvOiBudWxsLFxuICAgIHNjcm9sbE9mZnNldDogMCxcbiAgICBzY3JvbGxPZmZzZXRNYXg6IDAsXG4gICAgc2Nyb2xsSG9yaXpvbnRhbDogZmFsc2UsXG4gICAgc3RhdHVzQmFyVHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgIHN1cHBvcnRlZE9yaWVudGF0aW9uczogWydwb3J0cmFpdCcsICdsYW5kc2NhcGUnXSxcbn07XG5jb25zdCBleHRyYWN0QW5pbWF0aW9uRnJvbVByb3BzID0gKHByb3BzKSA9PiAoe1xuICAgIGFuaW1hdGlvbkluOiBwcm9wcy5hbmltYXRpb25JbixcbiAgICBhbmltYXRpb25PdXQ6IHByb3BzLmFuaW1hdGlvbk91dCxcbn0pO1xuZXhwb3J0IGNsYXNzIFJlYWN0TmF0aXZlTW9kYWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgLy8gV2UgdXNlIGFuIGludGVybmFsIHN0YXRlIGZvciBrZWVwaW5nIHRyYWNrIG9mIHRoZSBtb2RhbCB2aXNpYmlsaXR5OiB0aGlzIGFsbG93cyB1cyB0byBrZWVwXG4gICAgICAgIC8vIHRoZSBtb2RhbCB2aXNpYmxlIGR1cmluZyB0aGUgZXhpdCBhbmltYXRpb24sIGV2ZW4gaWYgdGhlIHVzZXIgaGFzIGFscmVhZHkgY2hhbmdlIHRoZVxuICAgICAgICAvLyBpc1Zpc2libGUgcHJvcCB0byBmYWxzZS5cbiAgICAgICAgLy8gV2Ugc3RvcmUgaW4gdGhlIHN0YXRlIHRoZSBkZXZpY2Ugd2lkdGggYW5kIGhlaWdodCBzbyB0aGF0IHdlIGNhbiB1cGRhdGUgdGhlIG1vZGFsIG9uXG4gICAgICAgIC8vIGRldmljZSByb3RhdGlvbi5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHNob3dDb250ZW50OiB0cnVlLFxuICAgICAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGRldmljZVdpZHRoOiBEaW1lbnNpb25zLmdldCgnd2luZG93Jykud2lkdGgsXG4gICAgICAgICAgICBkZXZpY2VIZWlnaHQ6IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS5oZWlnaHQsXG4gICAgICAgICAgICBpc1N3aXBlYWJsZTogISF0aGlzLnByb3BzLnN3aXBlRGlyZWN0aW9uLFxuICAgICAgICAgICAgcGFuOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluU3dpcGVDbG9zaW5nU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3dpcGluZ0RpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMucGFuUmVzcG9uZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaWRVcGRhdGVEaW1lbnNpb25zRW1pdHRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmdldERldmljZUhlaWdodCA9ICgpID0+IHRoaXMucHJvcHMuZGV2aWNlSGVpZ2h0IHx8IHRoaXMuc3RhdGUuZGV2aWNlSGVpZ2h0O1xuICAgICAgICB0aGlzLmdldERldmljZVdpZHRoID0gKCkgPT4gdGhpcy5wcm9wcy5kZXZpY2VXaWR0aCB8fCB0aGlzLnN0YXRlLmRldmljZVdpZHRoO1xuICAgICAgICB0aGlzLm9uQmFja0J1dHRvblByZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25CYWNrQnV0dG9uUHJlc3MgJiYgdGhpcy5wcm9wcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQmFja0J1dHRvblByZXNzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvdWxkUHJvcGFnYXRlU3dpcGUgPSAoZXZ0LCBnZXN0dXJlU3RhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5wcm9wcy5wcm9wYWdhdGVTd2lwZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5wcm9wYWdhdGVTd2lwZShldnQsIGdlc3R1cmVTdGF0ZSlcbiAgICAgICAgICAgICAgICA6IHRoaXMucHJvcHMucHJvcGFnYXRlU3dpcGU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYnVpbGRQYW5SZXNwb25kZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgYW5pbUV2dCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBhblJlc3BvbmRlciA9IFBhblJlc3BvbmRlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIG9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlcjogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBwcm9wYWdhdGVTd2lwZSB0byBhbGxvdyBpbm5lciBjb250ZW50IHRvIHNjcm9sbC4gU2VlIFBSOlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtbmF0aXZlLWNvbW11bml0eS9yZWFjdC1uYXRpdmUtbW9kYWwvcHVsbC8yNDZcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNob3VsZFByb3BhZ2F0ZVN3aXBlKGV2dCwgZ2VzdHVyZVN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG51bWJlciBcIjRcIiBpcyBqdXN0IGEgZ29vZCB0cmFkZW9mZiB0byBtYWtlIHRoZSBwYW5SZXNwb25kZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdvcmsgY29ycmVjdGx5IGV2ZW4gd2hlbiB0aGUgbW9kYWwgaGFzIHRvdWNoYWJsZSBidXR0b25zLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoaXMgYW5kIGNob29zZSBmb3IgeW91cnNlbGYsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgcGFuUmVzcG9uZGVyVGhyZXNob2xkIGluIHRoZSBwcm9wcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciByZWZlcmVuY2U6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtbmF0aXZlLWNvbW11bml0eS9yZWFjdC1uYXRpdmUtbW9kYWwvcHVsbC8xOTdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFNldFBhblJlc3BvbmRlciA9IE1hdGguYWJzKGdlc3R1cmVTdGF0ZS5keCkgPj0gdGhpcy5wcm9wcy5wYW5SZXNwb25kZXJUaHJlc2hvbGQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhnZXN0dXJlU3RhdGUuZHkpID49IHRoaXMucHJvcHMucGFuUmVzcG9uZGVyVGhyZXNob2xkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZFNldFBhblJlc3BvbmRlciAmJiB0aGlzLnByb3BzLm9uU3dpcGVTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Td2lwZVN0YXJ0KGdlc3R1cmVTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID0gdGhpcy5nZXRTd2lwaW5nRGlyZWN0aW9uKGdlc3R1cmVTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltRXZ0ID0gdGhpcy5jcmVhdGVBbmltYXRpb25FdmVudEZvclN3aXBlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvdWxkU2V0UGFuUmVzcG9uZGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXI6IChlLCBnZXN0dXJlU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzU2Nyb2xsYWJsZVZpZXcgPSBlLl9kaXNwYXRjaEluc3RhbmNlcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZS5fZGlzcGF0Y2hJbnN0YW5jZXMuc29tZSgoaW5zdGFuY2UpID0+IC9zY3JvbGx2aWV3fGZsYXRsaXN0L2kudGVzdChpbnN0YW5jZS50eXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNTY3JvbGxhYmxlVmlldyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG91bGRQcm9wYWdhdGVTd2lwZShlLCBnZXN0dXJlU3RhdGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNjcm9sbFRvICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNjcm9sbE9mZnNldCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gdXNlciBuZWVkcyB0byBiZSBhYmxlIHRvIHNjcm9sbCBjb250ZW50IGJhY2sgdXBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vblN3aXBlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Td2lwZVN0YXJ0KGdlc3R1cmVTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXJlZCBzbyB0aGF0IG9uUGFuUmVzcG9uZGVyTW92ZSBjYW4gd2FpdCB0byBoYXZlIHNvbWUgZGVsdGFcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gd29yayB3aXRoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN3aXBpbmdEaXJlY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUGFuUmVzcG9uZGVyTW92ZTogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIG9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXIgd2UgZG9uJ3QgaGF2ZSBhbnkgZGVsdGEgc28gd2UgZG9uJ3Qga25vd1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGlyZWN0aW9uIHRvIHdoaWNoIHRoZSB1c2VyIGlzIHN3aXBpbmcgdW50aWwgc29tZSBtb3ZlIGhhdmUgYmVlbiBkb25lXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50U3dpcGluZ0RpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdlc3R1cmVTdGF0ZS5keCA9PT0gMCAmJiBnZXN0dXJlU3RhdGUuZHkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID0gdGhpcy5nZXRTd2lwaW5nRGlyZWN0aW9uKGdlc3R1cmVTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltRXZ0ID0gdGhpcy5jcmVhdGVBbmltYXRpb25FdmVudEZvclN3aXBlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTd2lwZURpcmVjdGlvbkFsbG93ZWQoZ2VzdHVyZVN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGltIHRoZSBiYWNrZ3JvdW5kIHdoaWxlIHN3aXBpbmcgdGhlIG1vZGFsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdPcGFjaXR5RmFjdG9yID0gMSAtIHRoaXMuY2FsY0Rpc3RhbmNlUGVyY2VudGFnZShnZXN0dXJlU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZHJvcFJlZiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2Ryb3BSZWYudHJhbnNpdGlvblRvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5wcm9wcy5iYWNrZHJvcE9wYWNpdHkgKiBuZXdPcGFjaXR5RmFjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbUV2dChldnQsIGdlc3R1cmVTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vblN3aXBlTW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Td2lwZU1vdmUobmV3T3BhY2l0eUZhY3RvciwgZ2VzdHVyZVN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNjcm9sbFRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2Nyb2xsSG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0WCA9IC1nZXN0dXJlU3RhdGUuZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXRYID4gdGhpcy5wcm9wcy5zY3JvbGxPZmZzZXRNYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFggLT0gKG9mZnNldFggLSB0aGlzLnByb3BzLnNjcm9sbE9mZnNldE1heCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsVG8oeyB4OiBvZmZzZXRYLCBhbmltYXRlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0WSA9IC1nZXN0dXJlU3RhdGUuZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXRZID4gdGhpcy5wcm9wcy5zY3JvbGxPZmZzZXRNYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFkgLT0gKG9mZnNldFkgLSB0aGlzLnByb3BzLnNjcm9sbE9mZnNldE1heCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsVG8oeyB5OiBvZmZzZXRZLCBhbmltYXRlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblBhblJlc3BvbmRlclJlbGVhc2U6IChldnQsIGdlc3R1cmVTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBvblN3aXBlIHByb3AgaWYgdGhlIHRocmVzaG9sZCBoYXMgYmVlbiBleGNlZWRlZCBvbiB0aGUgcmlnaHQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY0Rpc3RhbmNlID0gdGhpcy5nZXRBY2NEaXN0YW5jZVBlckRpcmVjdGlvbihnZXN0dXJlU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWNjRGlzdGFuY2UgPiB0aGlzLnByb3BzLnN3aXBlVGhyZXNob2xkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU3dpcGVEaXJlY3Rpb25BbGxvd2VkKGdlc3R1cmVTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uU3dpcGVDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5Td2lwZUNsb3NpbmdTdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblN3aXBlQ29tcGxldGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2lwaW5nRGlyZWN0aW9uOiB0aGlzLmdldFN3aXBpbmdEaXJlY3Rpb24oZ2VzdHVyZVN0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBnZXN0dXJlU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlcHJlY2F0ZWQuIFJlbW92ZSBsYXRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uU3dpcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluU3dpcGVDbG9zaW5nU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Td2lwZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL1Jlc2V0IGJhY2tkcm9wIG9wYWNpdHkgYW5kIG1vZGFsIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uU3dpcGVDYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Td2lwZUNhbmNlbChnZXN0dXJlU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tkcm9wUmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tkcm9wUmVmLnRyYW5zaXRpb25Ubyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5wcm9wcy5iYWNrZHJvcE9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBBbmltYXRlZC5zcHJpbmcodGhpcy5zdGF0ZS5wYW4sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvVmFsdWU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmNpbmVzczogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZU5hdGl2ZURyaXZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNjcm9sbFRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zY3JvbGxPZmZzZXQgPiB0aGlzLnByb3BzLnNjcm9sbE9mZnNldE1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLnByb3BzLnNjcm9sbE9mZnNldE1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0QWNjRGlzdGFuY2VQZXJEaXJlY3Rpb24gPSAoZ2VzdHVyZVN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFN3aXBpbmdEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtZ2VzdHVyZVN0YXRlLmR5O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VzdHVyZVN0YXRlLmR5O1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlc3R1cmVTdGF0ZS5keDtcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1nZXN0dXJlU3RhdGUuZHg7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0U3dpcGluZ0RpcmVjdGlvbiA9IChnZXN0dXJlU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhnZXN0dXJlU3RhdGUuZHgpID4gTWF0aC5hYnMoZ2VzdHVyZVN0YXRlLmR5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXN0dXJlU3RhdGUuZHggPiAwID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnZXN0dXJlU3RhdGUuZHkgPiAwID8gJ2Rvd24nIDogJ3VwJztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYWxjRGlzdGFuY2VQZXJjZW50YWdlID0gKGdlc3R1cmVTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKGdlc3R1cmVTdGF0ZS5tb3ZlWSAtIGdlc3R1cmVTdGF0ZS55MCkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgKCh0aGlzLnByb3BzLmRldmljZUhlaWdodCB8fCB0aGlzLnN0YXRlLmRldmljZUhlaWdodCkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlc3R1cmVTdGF0ZS55MCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VwJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldmVyc2VQZXJjZW50YWdlKGdlc3R1cmVTdGF0ZS5tb3ZlWSAvIGdlc3R1cmVTdGF0ZS55MCk7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXZlcnNlUGVyY2VudGFnZShnZXN0dXJlU3RhdGUubW92ZVggLyBnZXN0dXJlU3RhdGUueDApO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoZ2VzdHVyZVN0YXRlLm1vdmVYIC0gZ2VzdHVyZVN0YXRlLngwKSAvXG4gICAgICAgICAgICAgICAgICAgICAgICAoKHRoaXMucHJvcHMuZGV2aWNlV2lkdGggfHwgdGhpcy5zdGF0ZS5kZXZpY2VXaWR0aCkgLSBnZXN0dXJlU3RhdGUueDApKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25FdmVudEZvclN3aXBlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFN3aXBpbmdEaXJlY3Rpb24gPT09ICdyaWdodCcgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQW5pbWF0ZWQuZXZlbnQoW251bGwsIHsgZHg6IHRoaXMuc3RhdGUucGFuLnggfV0sIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlTmF0aXZlRHJpdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBBbmltYXRlZC5ldmVudChbbnVsbCwgeyBkeTogdGhpcy5zdGF0ZS5wYW4ueSB9XSwge1xuICAgICAgICAgICAgICAgICAgICB1c2VOYXRpdmVEcml2ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzRGlyZWN0aW9uSW5jbHVkZWQgPSAoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLnN3aXBlRGlyZWN0aW9uKVxuICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5zd2lwZURpcmVjdGlvbi5pbmNsdWRlcyhkaXJlY3Rpb24pXG4gICAgICAgICAgICAgICAgOiB0aGlzLnByb3BzLnN3aXBlRGlyZWN0aW9uID09PSBkaXJlY3Rpb247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNTd2lwZURpcmVjdGlvbkFsbG93ZWQgPSAoeyBkeSwgZHggfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZHJhZ2dlZERvd24gPSBkeSA+IDA7XG4gICAgICAgICAgICBjb25zdCBkcmFnZ2VkVXAgPSBkeSA8IDA7XG4gICAgICAgICAgICBjb25zdCBkcmFnZ2VkTGVmdCA9IGR4IDwgMDtcbiAgICAgICAgICAgIGNvbnN0IGRyYWdnZWRSaWdodCA9IGR4ID4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID09PSAndXAnICYmXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RpcmVjdGlvbkluY2x1ZGVkKCd1cCcpICYmXG4gICAgICAgICAgICAgICAgZHJhZ2dlZFVwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID09PSAnZG93bicgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmlzRGlyZWN0aW9uSW5jbHVkZWQoJ2Rvd24nKSAmJlxuICAgICAgICAgICAgICAgIGRyYWdnZWREb3duKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID09PSAncmlnaHQnICYmXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RpcmVjdGlvbkluY2x1ZGVkKCdyaWdodCcpICYmXG4gICAgICAgICAgICAgICAgZHJhZ2dlZFJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID09PSAnbGVmdCcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmlzRGlyZWN0aW9uSW5jbHVkZWQoJ2xlZnQnKSAmJlxuICAgICAgICAgICAgICAgIGRyYWdnZWRMZWZ0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlRGltZW5zaW9uc1VwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5kZXZpY2VIZWlnaHQgJiYgIXRoaXMucHJvcHMuZGV2aWNlV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIHVwZGF0ZSB0aGUgZGV2aWNlIGRpbWVuc2lvbnMgaW4gdGhlIHN0YXRlIGlmIHRoZSBsYXlvdXQgY2hhbmdlZFxuICAgICAgICAgICAgICAgIC8vICh0cmlnZ2VyaW5nIGEgcmVuZGVyKVxuICAgICAgICAgICAgICAgIGNvbnN0IGRldmljZVdpZHRoID0gRGltZW5zaW9ucy5nZXQoJ3dpbmRvdycpLndpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRldmljZUhlaWdodCA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKGRldmljZVdpZHRoICE9PSB0aGlzLnN0YXRlLmRldmljZVdpZHRoIHx8XG4gICAgICAgICAgICAgICAgICAgIGRldmljZUhlaWdodCAhPT0gdGhpcy5zdGF0ZS5kZXZpY2VIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRldmljZVdpZHRoLCBkZXZpY2VIZWlnaHQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5iYWNrZHJvcFJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja2Ryb3BSZWYudHJhbnNpdGlvblRvKHsgb3BhY2l0eTogdGhpcy5wcm9wcy5iYWNrZHJvcE9wYWNpdHkgfSwgdGhpcy5wcm9wcy5iYWNrZHJvcFRyYW5zaXRpb25JblRpbWluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGZvciByZXNldHRpbmcgdGhlIHBhbiBwb3NpdGlvbixvdGhlcndpc2UgdGhlIG1vZGFsIGdldHMgc3R1Y2tcbiAgICAgICAgICAgIC8vIGF0IHRoZSBsYXN0IHJlbGVhc2VkIHBvc2l0aW9uIHdoZW4geW91IHRyeSB0byBvcGVuIGl0LlxuICAgICAgICAgICAgLy8gVE9ETzogQ291bGQgY2VydGFpbmx5IGJlIGltcHJvdmVkIC0gbm8gaWRlYSBmb3IgdGhlIG1vbWVudC5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmlzU3dpcGVhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wYW4uc2V0VmFsdWUoeyB4OiAwLCB5OiAwIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudFJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Nb2RhbFdpbGxTaG93ICYmIHRoaXMucHJvcHMub25Nb2RhbFdpbGxTaG93KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3Rpb25IYW5kbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uSGFuZGxlID0gSW50ZXJhY3Rpb25NYW5hZ2VyLmNyZWF0ZUludGVyYWN0aW9uSGFuZGxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFJlZlxuICAgICAgICAgICAgICAgICAgICAuYW5pbWF0ZSh0aGlzLmFuaW1hdGlvbkluLCB0aGlzLnByb3BzLmFuaW1hdGlvbkluVGltaW5nKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyYWN0aW9uSGFuZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmFjdGlvbk1hbmFnZXIuY2xlYXJJbnRlcmFjdGlvbkhhbmRsZSh0aGlzLmludGVyYWN0aW9uSGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Nb2RhbFNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFja2Ryb3BSZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tkcm9wUmVmLnRyYW5zaXRpb25Ubyh7IG9wYWNpdHk6IDAgfSwgdGhpcy5wcm9wcy5iYWNrZHJvcFRyYW5zaXRpb25PdXRUaW1pbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGFuaW1hdGlvbk91dCA9IHRoaXMuYW5pbWF0aW9uT3V0O1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5Td2lwZUNsb3NpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5Td2lwZUNsb3NpbmdTdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID09PSAndXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbk91dCA9ICdzbGlkZU91dFVwJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50U3dpcGluZ0RpcmVjdGlvbiA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbk91dCA9ICdzbGlkZU91dERvd24nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRTd2lwaW5nRGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbk91dCA9ICdzbGlkZU91dFJpZ2h0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50U3dpcGluZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbk91dCA9ICdzbGlkZU91dExlZnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnRSZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTW9kYWxXaWxsSGlkZSAmJiB0aGlzLnByb3BzLm9uTW9kYWxXaWxsSGlkZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyYWN0aW9uSGFuZGxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkhhbmRsZSA9IEludGVyYWN0aW9uTWFuYWdlci5jcmVhdGVJbnRlcmFjdGlvbkhhbmRsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRSZWZcbiAgICAgICAgICAgICAgICAgICAgLmFuaW1hdGUoYW5pbWF0aW9uT3V0LCB0aGlzLnByb3BzLmFuaW1hdGlvbk91dFRpbWluZylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGlvbkhhbmRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJhY3Rpb25NYW5hZ2VyLmNsZWFySW50ZXJhY3Rpb25IYW5kbGUodGhpcy5pbnRlcmFjdGlvbkhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uSGFuZGxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbnRlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk1vZGFsSGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYWtlQmFja2Ryb3AgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuaGFzQmFja2Ryb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmN1c3RvbUJhY2tkcm9wICYmXG4gICAgICAgICAgICAgICAgIVJlYWN0LmlzVmFsaWRFbGVtZW50KHRoaXMucHJvcHMuY3VzdG9tQmFja2Ryb3ApKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIGN1c3RvbUJhY2tkcm9wIGVsZW1lbnQgcGFzc2VkIHRvIE1vZGFsLiBZb3UgbXVzdCBwcm92aWRlIGEgdmFsaWQgUmVhY3QgZWxlbWVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgY3VzdG9tQmFja2Ryb3AsIGJhY2tkcm9wQ29sb3IsIHVzZU5hdGl2ZURyaXZlciwgdXNlTmF0aXZlRHJpdmVyRm9yQmFja2Ryb3AsIG9uQmFja2Ryb3BQcmVzcywgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICBjb25zdCBoYXNDdXN0b21CYWNrZHJvcCA9ICEhdGhpcy5wcm9wcy5jdXN0b21CYWNrZHJvcDtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tkcm9wQ29tcHV0ZWRTdHlsZSA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmdldERldmljZVdpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5nZXREZXZpY2VIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnN0YXRlLnNob3dDb250ZW50ICYmICFoYXNDdXN0b21CYWNrZHJvcFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBiYWNrZHJvcENvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBiYWNrZHJvcFdyYXBwZXIgPSAoUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRhYmxlLlZpZXcsIHsgcmVmOiByZWYgPT4gKHRoaXMuYmFja2Ryb3BSZWYgPSByZWYpLCB1c2VOYXRpdmVEcml2ZXI6IHVzZU5hdGl2ZURyaXZlckZvckJhY2tkcm9wICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyB1c2VOYXRpdmVEcml2ZXJGb3JCYWNrZHJvcFxuICAgICAgICAgICAgICAgICAgICA6IHVzZU5hdGl2ZURyaXZlciwgc3R5bGU6IFtzdHlsZXMuYmFja2Ryb3AsIGJhY2tkcm9wQ29tcHV0ZWRTdHlsZV0gfSwgaGFzQ3VzdG9tQmFja2Ryb3AgJiYgY3VzdG9tQmFja2Ryb3ApKTtcbiAgICAgICAgICAgIGlmIChoYXNDdXN0b21CYWNrZHJvcCkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIHdpbGwgaGFuZGxlIGJhY2tkcm9wIHByZXNzZXMgaGltc2VsZlxuICAgICAgICAgICAgICAgIHJldHVybiBiYWNrZHJvcFdyYXBwZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGN1c3RvbSBiYWNrZHJvcCwgaGFuZGxlIHByZXNzZXMgd2l0aFxuICAgICAgICAgICAgLy8gVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrXG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrLCB7IG9uUHJlc3M6IG9uQmFja2Ryb3BQcmVzcyB9LCBiYWNrZHJvcFdyYXBwZXIpKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBhbmltYXRpb25JbiwgYW5pbWF0aW9uT3V0IH0gPSBidWlsZEFuaW1hdGlvbnMoZXh0cmFjdEFuaW1hdGlvbkZyb21Qcm9wcyhwcm9wcykpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkluID0gYW5pbWF0aW9uSW47XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uT3V0ID0gYW5pbWF0aW9uT3V0O1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1N3aXBlYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIHBhbjogbmV3IEFuaW1hdGVkLlZhbHVlWFkoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmJ1aWxkUGFuUmVzcG9uZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93Q29udGVudDogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHN0YXRlKSB7XG4gICAgICAgIGlmICghc3RhdGUuaXNWaXNpYmxlICYmIG5leHRQcm9wcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGlzVmlzaWJsZTogdHJ1ZSwgc2hvd0NvbnRlbnQ6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIC8vIFNob3cgZGVwcmVjYXRpb24gbWVzc2FnZVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vblN3aXBlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ2A8TW9kYWwgb25Td2lwZT1cIi4uLlwiIC8+YCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgc3RhcnRpbmcgZnJvbSAxMy4wLjAuIFVzZSBgPE1vZGFsIG9uU3dpcGVDb21wbGV0ZT1cIi4uLlwiIC8+YCBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlkVXBkYXRlRGltZW5zaW9uc0VtaXR0ZXIgPSBEZXZpY2VFdmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoJ2RpZFVwZGF0ZURpbWVuc2lvbnMnLCB0aGlzLmhhbmRsZURpbWVuc2lvbnNVcGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIEJhY2tIYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2hhcmR3YXJlQmFja1ByZXNzJywgdGhpcy5vbkJhY2tCdXR0b25QcmVzcyk7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBCYWNrSGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXJkd2FyZUJhY2tQcmVzcycsIHRoaXMub25CYWNrQnV0dG9uUHJlc3MpO1xuICAgICAgICBpZiAodGhpcy5kaWRVcGRhdGVEaW1lbnNpb25zRW1pdHRlcikge1xuICAgICAgICAgICAgdGhpcy5kaWRVcGRhdGVEaW1lbnNpb25zRW1pdHRlci5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGlvbkhhbmRsZSkge1xuICAgICAgICAgICAgSW50ZXJhY3Rpb25NYW5hZ2VyLmNsZWFySW50ZXJhY3Rpb25IYW5kbGUodGhpcy5pbnRlcmFjdGlvbkhhbmRsZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uSGFuZGxlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIC8vIElmIHRoZSBhbmltYXRpb25zIGhhdmUgYmVlbiBjaGFuZ2VkIHRoZW4gcmVidWlsZCB0aGVtIHRvIG1ha2Ugc3VyZSB3ZSdyZVxuICAgICAgICAvLyB1c2luZyB0aGUgbW9zdCB1cC10by1kYXRlIG9uZXNcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYW5pbWF0aW9uSW4gIT09IHByZXZQcm9wcy5hbmltYXRpb25JbiB8fFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5hbmltYXRpb25PdXQgIT09IHByZXZQcm9wcy5hbmltYXRpb25PdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYW5pbWF0aW9uSW4sIGFuaW1hdGlvbk91dCB9ID0gYnVpbGRBbmltYXRpb25zKGV4dHJhY3RBbmltYXRpb25Gcm9tUHJvcHModGhpcy5wcm9wcykpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JbiA9IGFuaW1hdGlvbkluO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25PdXQgPSBhbmltYXRpb25PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYmFja2Ryb3Agb3BhY2l0eSBoYXMgYmVlbiBjaGFuZ2VkIHRoZW4gbWFrZSBzdXJlIHRvIHVwZGF0ZSBpdFxuICAgICAgICBpZiAodGhpcy5wcm9wcy5iYWNrZHJvcE9wYWNpdHkgIT09IHByZXZQcm9wcy5iYWNrZHJvcE9wYWNpdHkgJiZcbiAgICAgICAgICAgIHRoaXMuYmFja2Ryb3BSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja2Ryb3BSZWYudHJhbnNpdGlvblRvKHsgb3BhY2l0eTogdGhpcy5wcm9wcy5iYWNrZHJvcE9wYWNpdHkgfSwgdGhpcy5wcm9wcy5iYWNrZHJvcFRyYW5zaXRpb25JblRpbWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT24gbW9kYWwgb3BlbiByZXF1ZXN0LCB3ZSBzbGlkZSB0aGUgdmlldyB1cCBhbmQgZmFkZSBpbiB0aGUgYmFja2Ryb3BcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNWaXNpYmxlICYmICFwcmV2UHJvcHMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5wcm9wcy5pc1Zpc2libGUgJiYgcHJldlByb3BzLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgLy8gT24gbW9kYWwgY2xvc2UgcmVxdWVzdCwgd2Ugc2xpZGUgdGhlIHZpZXcgZG93biBhbmQgZmFkZSBvdXQgdGhlIGJhY2tkcm9wXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbiAgICAgICAgY29uc3QgeyBhbmltYXRpb25JbiwgYW5pbWF0aW9uSW5UaW1pbmcsIGFuaW1hdGlvbk91dCwgYW5pbWF0aW9uT3V0VGltaW5nLCBhdm9pZEtleWJvYXJkLCBjb3ZlclNjcmVlbiwgaGFzQmFja2Ryb3AsIGJhY2tkcm9wQ29sb3IsIGJhY2tkcm9wT3BhY2l0eSwgYmFja2Ryb3BUcmFuc2l0aW9uSW5UaW1pbmcsIGJhY2tkcm9wVHJhbnNpdGlvbk91dFRpbWluZywgY3VzdG9tQmFja2Ryb3AsIGNoaWxkcmVuLCBpc1Zpc2libGUsIG9uTW9kYWxTaG93LCBvbkJhY2tCdXR0b25QcmVzcywgdXNlTmF0aXZlRHJpdmVyLCBwcm9wYWdhdGVTd2lwZSwgc3R5bGUsIC4uLm90aGVyUHJvcHMgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgdGVzdElELCAuLi5jb250YWluZXJQcm9wcyB9ID0gb3RoZXJQcm9wcztcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IFtcbiAgICAgICAgICAgIHsgbWFyZ2luOiB0aGlzLmdldERldmljZVdpZHRoKCkgKiAwLjA1LCB0cmFuc2Zvcm06IFt7IHRyYW5zbGF0ZVk6IDAgfV0gfSxcbiAgICAgICAgICAgIHN0eWxlcy5jb250ZW50LFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgIF07XG4gICAgICAgIGxldCBwYW5IYW5kbGVycyA9IHt9O1xuICAgICAgICBsZXQgcGFuUG9zaXRpb24gPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNTd2lwZWFibGUpIHtcbiAgICAgICAgICAgIHBhbkhhbmRsZXJzID0geyAuLi50aGlzLnBhblJlc3BvbmRlci5wYW5IYW5kbGVycyB9O1xuICAgICAgICAgICAgaWYgKHVzZU5hdGl2ZURyaXZlcikge1xuICAgICAgICAgICAgICAgIHBhblBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMuc3RhdGUucGFuLmdldFRyYW5zbGF0ZVRyYW5zZm9ybSgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYW5Qb3NpdGlvbiA9IHRoaXMuc3RhdGUucGFuLmdldExheW91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSB1c2VyIG1pZ2h0IGRlY2lkZSBub3QgdG8gc2hvdyB0aGUgbW9kYWwgd2hpbGUgaXQgaXMgYW5pbWF0aW5nXG4gICAgICAgIC8vIHRvIGVuaGFuY2UgcGVyZm9ybWFuY2UuXG4gICAgICAgIGNvbnN0IF9jaGlsZHJlbiA9IHRoaXMucHJvcHMuaGlkZU1vZGFsQ29udGVudFdoaWxlQW5pbWF0aW5nICYmXG4gICAgICAgICAgICB0aGlzLnByb3BzLnVzZU5hdGl2ZURyaXZlciAmJlxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuc2hvd0NvbnRlbnQgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRhYmxlLlZpZXcsIG51bGwpKSA6IChjaGlsZHJlbik7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclZpZXcgPSAoUmVhY3QuY3JlYXRlRWxlbWVudChhbmltYXRhYmxlLlZpZXcsIE9iamVjdC5hc3NpZ24oe30sIHBhbkhhbmRsZXJzLCB7IHJlZjogcmVmID0+ICh0aGlzLmNvbnRlbnRSZWYgPSByZWYpLCBzdHlsZTogW3BhblBvc2l0aW9uLCBjb21wdXRlZFN0eWxlXSwgcG9pbnRlckV2ZW50czogXCJib3gtbm9uZVwiLCB1c2VOYXRpdmVEcml2ZXI6IHVzZU5hdGl2ZURyaXZlciB9LCBjb250YWluZXJQcm9wcyksIF9jaGlsZHJlbikpO1xuICAgICAgICAvLyBJZiBjb3ZlclNjcmVlbiBpcyBzZXQgdG8gZmFsc2UgYnkgdGhlIHVzZXJcbiAgICAgICAgLy8gd2UgcmVuZGVyIHRoZSBtb2RhbCBpbnNpZGUgdGhlIHBhcmVudCB2aWV3IGRpcmVjdGx5XG4gICAgICAgIGlmICghY292ZXJTY3JlZW4gJiYgdGhpcy5zdGF0ZS5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChWaWV3LCB7IHBvaW50ZXJFdmVudHM6IFwiYm94LW5vbmVcIiwgc3R5bGU6IFtzdHlsZXMuYmFja2Ryb3AsIHN0eWxlcy5jb250YWluZXJCb3hdIH0sXG4gICAgICAgICAgICAgICAgdGhpcy5tYWtlQmFja2Ryb3AoKSxcbiAgICAgICAgICAgICAgICBjb250YWluZXJWaWV3KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsLCBPYmplY3QuYXNzaWduKHsgdHJhbnNwYXJlbnQ6IHRydWUsIGFuaW1hdGlvblR5cGU6ICdub25lJywgdmlzaWJsZTogdGhpcy5zdGF0ZS5pc1Zpc2libGUsIG9uUmVxdWVzdENsb3NlOiBvbkJhY2tCdXR0b25QcmVzcyB9LCBvdGhlclByb3BzKSxcbiAgICAgICAgICAgIHRoaXMubWFrZUJhY2tkcm9wKCksXG4gICAgICAgICAgICBhdm9pZEtleWJvYXJkID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmRBdm9pZGluZ1ZpZXcsIHsgYmVoYXZpb3I6IFBsYXRmb3JtLk9TID09PSAnaW9zJyA/ICdwYWRkaW5nJyA6IHVuZGVmaW5lZCwgcG9pbnRlckV2ZW50czogXCJib3gtbm9uZVwiLCBzdHlsZTogY29tcHV0ZWRTdHlsZS5jb25jYXQoW3sgbWFyZ2luOiAwIH1dKSB9LCBjb250YWluZXJWaWV3KSkgOiAoY29udGFpbmVyVmlldykpKTtcbiAgICB9XG59XG5SZWFjdE5hdGl2ZU1vZGFsLnByb3BUeXBlcyA9IHtcbiAgICBhbmltYXRpb25JbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIGFuaW1hdGlvbkluVGltaW5nOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGFuaW1hdGlvbk91dDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIGFuaW1hdGlvbk91dFRpbWluZzogUHJvcFR5cGVzLm51bWJlcixcbiAgICBhdm9pZEtleWJvYXJkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBjb3ZlclNjcmVlbjogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGFzQmFja2Ryb3A6IFByb3BUeXBlcy5ib29sLFxuICAgIGJhY2tkcm9wQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgYmFja2Ryb3BPcGFjaXR5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGJhY2tkcm9wVHJhbnNpdGlvbkluVGltaW5nOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGJhY2tkcm9wVHJhbnNpdGlvbk91dFRpbWluZzogUHJvcFR5cGVzLm51bWJlcixcbiAgICBjdXN0b21CYWNrZHJvcDogUHJvcFR5cGVzLm5vZGUsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG4gICAgZGV2aWNlSGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGRldmljZVdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGlzVmlzaWJsZTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBoaWRlTW9kYWxDb250ZW50V2hpbGVBbmltYXRpbmc6IFByb3BUeXBlcy5ib29sLFxuICAgIHByb3BhZ2F0ZVN3aXBlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgICBvbk1vZGFsU2hvdzogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Nb2RhbFdpbGxTaG93OiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbk1vZGFsSGlkZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Nb2RhbFdpbGxIaWRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkJhY2tCdXR0b25QcmVzczogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25CYWNrZHJvcFByZXNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBwYW5SZXNwb25kZXJUaHJlc2hvbGQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgb25Td2lwZVN0YXJ0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvblN3aXBlTW92ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Td2lwZUNvbXBsZXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvblN3aXBlQ2FuY2VsOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzd2lwZVRocmVzaG9sZDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBzd2lwZURpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZihbJ3VwJywgJ2Rvd24nLCAnbGVmdCcsICdyaWdodCddKSksXG4gICAgICAgIFByb3BUeXBlcy5vbmVPZihbJ3VwJywgJ2Rvd24nLCAnbGVmdCcsICdyaWdodCddKSxcbiAgICBdKSxcbiAgICB1c2VOYXRpdmVEcml2ZXI6IFByb3BUeXBlcy5ib29sLFxuICAgIHVzZU5hdGl2ZURyaXZlckZvckJhY2tkcm9wOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzdHlsZTogUHJvcFR5cGVzLmFueSxcbiAgICBzY3JvbGxUbzogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2Nyb2xsT2Zmc2V0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHNjcm9sbE9mZnNldE1heDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBzY3JvbGxIb3Jpem9udGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzdXBwb3J0ZWRPcmllbnRhdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAgICdwb3J0cmFpdCcsXG4gICAgICAgICdwb3J0cmFpdC11cHNpZGUtZG93bicsXG4gICAgICAgICdsYW5kc2NhcGUnLFxuICAgICAgICAnbGFuZHNjYXBlLWxlZnQnLFxuICAgICAgICAnbGFuZHNjYXBlLXJpZ2h0JyxcbiAgICBdKSksXG59O1xuUmVhY3ROYXRpdmVNb2RhbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5leHBvcnQgZGVmYXVsdCBSZWFjdE5hdGl2ZU1vZGFsO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFNBQUEsR0FBQUgsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE1BQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQU4sT0FBQTtBQUFtQyxJQUFBTyxTQUFBO0VBQUFDLFVBQUE7QUFBQSxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQVgsd0JBQUFXLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FB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