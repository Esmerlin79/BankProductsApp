6c3bc30219701ba20a061d1d4040eb83
_getJestObj().mock('../../hooks/useProductRegister');
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ProductRegisterScreen = require("../ProductRegisterScreen");
var _useProductRegister = _interopRequireDefault(require("../../hooks/useProductRegister"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('ProductRegisterScreen', function () {
  var mockUseProductRegister;
  var handleCreateOrUpdateProduct = jest.fn();
  var clearForm = jest.fn();
  beforeEach(function () {
    mockUseProductRegister = _useProductRegister.default;
    mockUseProductRegister.mockReturnValue({
      form: {
        id: 'mockId',
        name: '',
        description: '',
        logo: '',
        releaseDate: '',
        reviewDate: ''
      },
      isLoading: false,
      onChange: jest.fn(),
      isProductIdValid: false,
      isReleaseDateValid: false,
      handleReleaseChange: jest.fn(),
      clearForm: clearForm,
      handleCreateOrUpdateProduct: handleCreateOrUpdateProduct
    });
  });
  var mockRoute = {
    params: {
      product: null
    }
  };
  it('renders correctly', function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ProductRegisterScreen.ProductRegisterScreen, {
        navigation: {
          pop: jest.fn()
        },
        route: mockRoute
      })),
      getByText = _render.getByText;
    expect(getByText('BANCO PICHINCHA')).toBeTruthy();
    expect(getByText('Formulario de Registro')).toBeTruthy();
    expect(getByText('ID')).toBeTruthy();
    expect(getByText('Nombre')).toBeTruthy();
    expect(getByText('Descripcion')).toBeTruthy();
    expect(getByText('Logo')).toBeTruthy();
    expect(getByText('Fecha Liberación')).toBeTruthy();
    expect(getByText('Fecha Revisión')).toBeTruthy();
    expect(getByText('Enviar')).toBeTruthy();
    expect(getByText('Reiniciar')).toBeTruthy();
  });
  it('calls handleCreateOrUpdateProduct on "Enviar" button press', (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ProductRegisterScreen.ProductRegisterScreen, {
        navigation: {
          pop: jest.fn()
        },
        route: mockRoute
      })),
      getByText = _render2.getByText;
    var sendButton = getByText('Enviar');
    _reactNative.fireEvent.press(sendButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockUseProductRegister.mock.results[0].value.handleCreateOrUpdateProduct).toHaveBeenCalled();
    });
  }));
  it('calls clearForm on "Reiniciar" button press', function () {
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ProductRegisterScreen.ProductRegisterScreen, {
        navigation: {
          pop: jest.fn()
        },
        route: mockRoute
      })),
      getByText = _render3.getByText;
    var resetButton = getByText('Reiniciar');
    _reactNative.fireEvent.press(resetButton);
    expect(mockUseProductRegister.mock.results[0].value.clearForm).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9Qcm9kdWN0UmVnaXN0ZXJTY3JlZW4iLCJfdXNlUHJvZHVjdFJlZ2lzdGVyIiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsImplc3QiLCJkZXNjcmliZSIsIm1vY2tVc2VQcm9kdWN0UmVnaXN0ZXIiLCJoYW5kbGVDcmVhdGVPclVwZGF0ZVByb2R1Y3QiLCJmbiIsImNsZWFyRm9ybSIsImJlZm9yZUVhY2giLCJ1c2VQcm9kdWN0UmVnaXN0ZXIiLCJtb2NrUmV0dXJuVmFsdWUiLCJmb3JtIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJsb2dvIiwicmVsZWFzZURhdGUiLCJyZXZpZXdEYXRlIiwiaXNMb2FkaW5nIiwib25DaGFuZ2UiLCJpc1Byb2R1Y3RJZFZhbGlkIiwiaXNSZWxlYXNlRGF0ZVZhbGlkIiwiaGFuZGxlUmVsZWFzZUNoYW5nZSIsIm1vY2tSb3V0ZSIsInBhcmFtcyIsInByb2R1Y3QiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJqc3giLCJQcm9kdWN0UmVnaXN0ZXJTY3JlZW4iLCJuYXZpZ2F0aW9uIiwicG9wIiwicm91dGUiLCJnZXRCeVRleHQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5IiwiZGVmYXVsdCIsIl9yZW5kZXIyIiwic2VuZEJ1dHRvbiIsImZpcmVFdmVudCIsInByZXNzIiwid2FpdEZvciIsInJlc3VsdHMiLCJ2YWx1ZSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJfcmVuZGVyMyIsInJlc2V0QnV0dG9uIl0sInNvdXJjZXMiOlsiUHJvZHVjdFJlZ2lzdGVyU2NyZWVuLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IFByb2R1Y3RSZWdpc3RlclNjcmVlbiB9IGZyb20gJy4uL1Byb2R1Y3RSZWdpc3RlclNjcmVlbic7XG5pbXBvcnQgdXNlUHJvZHVjdFJlZ2lzdGVyIGZyb20gJy4uLy4uL2hvb2tzL3VzZVByb2R1Y3RSZWdpc3Rlcic7IFxuXG5qZXN0Lm1vY2soJy4uLy4uL2hvb2tzL3VzZVByb2R1Y3RSZWdpc3RlcicpO1xuXG5kZXNjcmliZSgnUHJvZHVjdFJlZ2lzdGVyU2NyZWVuJywgKCkgPT4ge1xuICBsZXQgbW9ja1VzZVByb2R1Y3RSZWdpc3RlcjogamVzdC5Nb2NrO1xuXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU9yVXBkYXRlUHJvZHVjdCA9IGplc3QuZm4oKTtcbiAgY29uc3QgY2xlYXJGb3JtID0gamVzdC5mbigpO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tVc2VQcm9kdWN0UmVnaXN0ZXIgPSB1c2VQcm9kdWN0UmVnaXN0ZXIgYXMgamVzdC5Nb2NrO1xuICAgIG1vY2tVc2VQcm9kdWN0UmVnaXN0ZXIubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGZvcm06IHsgaWQ6ICdtb2NrSWQnLCBuYW1lOiAnJywgZGVzY3JpcHRpb246ICcnLCBsb2dvOiAnJywgcmVsZWFzZURhdGU6ICcnLCByZXZpZXdEYXRlOiAnJyB9LFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIG9uQ2hhbmdlOiBqZXN0LmZuKCksXG4gICAgICBpc1Byb2R1Y3RJZFZhbGlkOiBmYWxzZSxcbiAgICAgIGlzUmVsZWFzZURhdGVWYWxpZDogZmFsc2UsXG4gICAgICBoYW5kbGVSZWxlYXNlQ2hhbmdlOiBqZXN0LmZuKCksXG4gICAgICBjbGVhckZvcm06IGNsZWFyRm9ybSxcbiAgICAgIGhhbmRsZUNyZWF0ZU9yVXBkYXRlUHJvZHVjdDogaGFuZGxlQ3JlYXRlT3JVcGRhdGVQcm9kdWN0LFxuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCBtb2NrUm91dGUgPSB7XG4gICAgcGFyYW1zOiB7XG4gICAgICBwcm9kdWN0OiBudWxsLCBcbiAgICB9LFxuICB9O1xuXG4gIGl0KCdyZW5kZXJzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPFByb2R1Y3RSZWdpc3RlclNjcmVlbiBuYXZpZ2F0aW9uPXt7IHBvcDogamVzdC5mbigpIH0gYXMgYW55fSByb3V0ZT17bW9ja1JvdXRlIGFzIGFueX0gLz5cbiAgICApO1xuXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnQkFOQ08gUElDSElOQ0hBJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCdGb3JtdWxhcmlvIGRlIFJlZ2lzdHJvJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCdJRCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnTm9tYnJlJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCdEZXNjcmlwY2lvbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnTG9nbycpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnRmVjaGEgTGliZXJhY2nDs24nKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChnZXRCeVRleHQoJ0ZlY2hhIFJldmlzacOzbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnRW52aWFyJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCdSZWluaWNpYXInKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICBpdCgnY2FsbHMgaGFuZGxlQ3JlYXRlT3JVcGRhdGVQcm9kdWN0IG9uIFwiRW52aWFyXCIgYnV0dG9uIHByZXNzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICA8UHJvZHVjdFJlZ2lzdGVyU2NyZWVuIG5hdmlnYXRpb249e3sgcG9wOiBqZXN0LmZuKCkgfSBhcyBhbnl9IHJvdXRlPXttb2NrUm91dGUgYXMgYW55fSAvPlxuICAgICk7XG5cbiAgICBjb25zdCBzZW5kQnV0dG9uID0gZ2V0QnlUZXh0KCdFbnZpYXInKTtcbiAgICBmaXJlRXZlbnQucHJlc3Moc2VuZEJ1dHRvbik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChtb2NrVXNlUHJvZHVjdFJlZ2lzdGVyLm1vY2sucmVzdWx0c1swXS52YWx1ZS5oYW5kbGVDcmVhdGVPclVwZGF0ZVByb2R1Y3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ2NhbGxzIGNsZWFyRm9ybSBvbiBcIlJlaW5pY2lhclwiIGJ1dHRvbiBwcmVzcycsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPFByb2R1Y3RSZWdpc3RlclNjcmVlbiBuYXZpZ2F0aW9uPXt7IHBvcDogamVzdC5mbigpIH0gYXMgYW55fSByb3V0ZT17bW9ja1JvdXRlIGFzIGFueX0gLz5cbiAgICApO1xuICBcbiAgICBjb25zdCByZXNldEJ1dHRvbiA9IGdldEJ5VGV4dCgnUmVpbmljaWFyJyk7XG4gICAgZmlyZUV2ZW50LnByZXNzKHJlc2V0QnV0dG9uKTtcbiAgXG4gICAgZXhwZWN0KG1vY2tVc2VQcm9kdWN0UmVnaXN0ZXIubW9jay5yZXN1bHRzWzBdLnZhbHVlLmNsZWFyRm9ybSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxufSk7Il0sIm1hcHBpbmdzIjoiQUFLQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsZ0NBQWdDLENBQUM7QUFBQyxJQUFBQyxzQkFBQSxHQUFBQyxPQUFBO0FBQUEsSUFBQUMsa0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUw1QyxJQUFBRSxNQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxZQUFB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