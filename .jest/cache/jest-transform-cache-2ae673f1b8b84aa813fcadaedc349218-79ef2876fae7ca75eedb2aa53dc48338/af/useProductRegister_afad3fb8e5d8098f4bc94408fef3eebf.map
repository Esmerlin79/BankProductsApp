{"version":3,"names":["_react","require","_lodash","_interopRequireDefault","_dateFns","_useForm","_utils","_reactNative","_ProductContext","cov_o5cj20jc7","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","useProductRegister","initialProduct","arguments","length","navigation","product","_ref","useContext","ProductsContext","verifyProductId","createProduct","editProduct","_ref2","useForm","id","description","logo","releaseDate","date_release","Date","toISOString","reviewDate","date_revision","addYears","form","setFormValue","onChange","_ref3","_ref4","useState","_ref5","_slicedToArray2","default","isLoading","setIsLoading","_ref6","_ref7","isProductIdValid","setIsProductIdValid","_ref8","_ref9","isReleaseDateValid","setIsReleaseDateValid","handleReleaseChange","value","parseISO","Object","assign","handleVerifyProductId","_ref10","_asyncToGenerator2","productId","validateInputs","isValid","error","Alert","alert","text","onPress","_x","apply","handleCreateOrUpdateProduct","_ref11","navigate","pop","debouncedHandleValidateId","_","debounce","clearForm","useEffect","cancel","_default","exports"],"sources":["useProductRegister.ts"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\n\nimport _ from 'lodash';\nimport { parseISO, addYears } from 'date-fns';\nimport { StackNavigationProp } from '@react-navigation/stack';\n\nimport { useForm } from './useForm'; \nimport { validateInputs } from '../utils';\nimport { Alert } from 'react-native';\nimport { Product } from '../interfaces';\nimport { ProductsContext } from '../context/ProductContext';\nimport { ProductsStackParams } from '../navigator/StackNavigator';\n\n\nconst useProductRegister = (\n  initialProduct: Product | null = null, \n  navigation: StackNavigationProp<ProductsStackParams, \"ProductRegisterScreen\", undefined>\n  ) => {\n    \n  const product = initialProduct;\n  const { verifyProductId, createProduct, editProduct } = useContext(ProductsContext);\n\n  const { form, setFormValue, onChange } = useForm({\n    id: product ? product.id : '',\n    name: product ? product.name : '',\n    description: product ? product.description : '',\n    logo: product ? product.logo : '',\n    releaseDate: product ? product.date_release : new Date().toISOString(),\n    reviewDate: product ? product.date_revision : addYears(new Date(), 1).toISOString(),\n  });\n  const { name, description, logo } = form;\n  const [isLoading, setIsLoading] = useState(false);\n  const [isProductIdValid, setIsProductIdValid] = useState<boolean>(false);\n  const [isReleaseDateValid, setIsReleaseDateValid] = useState<boolean>(false);\n\n  const handleReleaseChange = (value: string) => {\n    const releaseDate = parseISO(value);\n    const reviewDate = addYears(releaseDate, 1);\n    setFormValue({ ...form, releaseDate: value, reviewDate: reviewDate.toISOString() });\n  };\n\n  const handleVerifyProductId = async (productId: string) => {\n    try {\n      if (product) return;\n      if (validateInputs('ID', productId)) return setIsProductIdValid(true);\n      const isValid = await verifyProductId(productId);\n      setIsProductIdValid(isValid);\n    } catch (error) {\n      Alert.alert('Error', 'Hubo un error al validar el ID', [\n        {\n          text: 'Ok',\n          onPress: () => {},\n        },\n      ]);\n      return true;\n    }\n  };\n\n  const handleCreateOrUpdateProduct = async () => {\n    try {\n     if(\n         isProductIdValid\n         || validateInputs('name', name)\n         || validateInputs('description', description)\n         || validateInputs('logo', logo)\n         || isReleaseDateValid\n     ) return;\n\n     setIsLoading(true);\n\n     if( product ) {\n         await editProduct({\n             ...form,\n             date_release: form.releaseDate,\n             date_revision: form.reviewDate\n         })\n         setIsLoading(false);\n         navigation.navigate('ProductsScreen', {});\n     } else {\n         await createProduct({\n             ...form,\n             date_release: form.releaseDate,\n             date_revision: form.reviewDate\n         })\n         setIsLoading(false);\n         navigation.pop();\n     }\n\n    } catch (error) {\n     setIsLoading(false);\n     Alert.alert('Error', 'Hubo un error al crear el producto', [{ \n         text: 'Ok',\n         onPress: () => {}\n     }]);\n    }\n }\n\n  const debouncedHandleValidateId = _.debounce(handleVerifyProductId, 500);\n\n  const clearForm = () => {\n    setFormValue({\n      id: product ? product.id : '',\n      name: '',\n      description: '',\n      logo: '',\n      releaseDate: '',\n      reviewDate: '',\n    });\n  };\n\n  useEffect(() => {\n    debouncedHandleValidateId(form.id);\n    return () => {\n      debouncedHandleValidateId.cancel();\n    };\n  }, [form.id]);\n\n  useEffect(() => {\n    if (form.releaseDate) setIsReleaseDateValid(validateInputs('releaseDate', form.releaseDate));\n  }, [form.releaseDate]);\n\n  return {\n    form,\n    isLoading,\n    isProductIdValid,\n    isReleaseDateValid,\n    handleReleaseChange,\n    clearForm,\n    onChange,\n    debouncedHandleValidateId,\n    handleCreateOrUpdateProduct,\n  };\n};\n\nexport default useProductRegister;"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AAGA,IAAAI,QAAA,GAAAJ,OAAA;AACA,IAAAK,MAAA,GAAAL,OAAA;AACA,IAAAM,YAAA,GAAAN,OAAA;AAEA,IAAAO,eAAA,GAAAP,OAAA;AAA4D,SAAAQ,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA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"}