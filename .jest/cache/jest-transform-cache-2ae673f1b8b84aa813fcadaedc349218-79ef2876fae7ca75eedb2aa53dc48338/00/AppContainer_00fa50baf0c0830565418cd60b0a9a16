6b23f0cc35f55a889126fa97f16ee088
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _View = _interopRequireDefault(require("../Components/View/View"));
var _RCTDeviceEventEmitter = _interopRequireDefault(require("../EventEmitter/RCTDeviceEventEmitter"));
var _StyleSheet = _interopRequireDefault(require("../StyleSheet/StyleSheet"));
var _RootTag = require("./RootTag");
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var reactDevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;
var AppContainer = function (_React$Component) {
  (0, _inherits2.default)(AppContainer, _React$Component);
  var _super = _createSuper(AppContainer);
  function AppContainer() {
    var _this;
    (0, _classCallCheck2.default)(this, AppContainer);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    _this.state = {
      inspector: null,
      devtoolsOverlay: null,
      traceUpdateOverlay: null,
      mainKey: 1,
      hasError: false
    };
    _this._subscription = null;
    _this._reactDevToolsAgentListener = null;
    return _this;
  }
  (0, _createClass2.default)(AppContainer, [{
    key: "mountReactDevToolsOverlays",
    value: function mountReactDevToolsOverlays() {
      var DevtoolsOverlay = require('../Inspector/DevtoolsOverlay').default;
      var devtoolsOverlay = (0, _jsxRuntime.jsx)(DevtoolsOverlay, {
        inspectedView: this._mainRef
      });
      var TraceUpdateOverlay = require('../Components/TraceUpdateOverlay/TraceUpdateOverlay').default;
      var traceUpdateOverlay = (0, _jsxRuntime.jsx)(TraceUpdateOverlay, {});
      this.setState({
        devtoolsOverlay: devtoolsOverlay,
        traceUpdateOverlay: traceUpdateOverlay
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      if (__DEV__) {
        if (!this.props.internal_excludeInspector) {
          this._subscription = _RCTDeviceEventEmitter.default.addListener('toggleElementInspector', function () {
            var Inspector = require('../Inspector/Inspector');
            var inspector = _this2.state.inspector ? null : (0, _jsxRuntime.jsx)(Inspector, {
              inspectedView: _this2._mainRef,
              onRequestRerenderApp: function onRequestRerenderApp(updateInspectedView) {
                _this2.setState(function (s) {
                  return {
                    mainKey: s.mainKey + 1
                  };
                }, function () {
                  return updateInspectedView(_this2._mainRef);
                });
              }
            });
            _this2.setState({
              inspector: inspector
            });
          });
          if (reactDevToolsHook != null) {
            if (reactDevToolsHook.reactDevtoolsAgent) {
              this.mountReactDevToolsOverlays();
              return;
            }
            this._reactDevToolsAgentListener = function () {
              return _this2.mountReactDevToolsOverlays();
            };
            reactDevToolsHook.on('react-devtools', this._reactDevToolsAgentListener);
          }
        }
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscription != null) {
        this._subscription.remove();
      }
      if (reactDevToolsHook != null && this._reactDevToolsAgentListener != null) {
        reactDevToolsHook.off('react-devtools', this._reactDevToolsAgentListener);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      var logBox = null;
      if (__DEV__) {
        if (!this.props.internal_excludeLogBox) {
          var LogBoxNotificationContainer = require('../LogBox/LogBoxNotificationContainer').default;
          logBox = (0, _jsxRuntime.jsx)(LogBoxNotificationContainer, {});
        }
      }
      var innerView = (0, _jsxRuntime.jsx)(_View.default, {
        collapsable: !this.state.inspector && !this.state.devtoolsOverlay,
        pointerEvents: "box-none",
        style: styles.appContainer,
        ref: function ref(_ref) {
          _this3._mainRef = _ref;
        },
        children: this.props.children
      }, this.state.mainKey);
      var Wrapper = this.props.WrapperComponent;
      if (Wrapper != null) {
        innerView = (0, _jsxRuntime.jsx)(Wrapper, {
          initialProps: this.props.initialProps,
          fabric: this.props.fabric === true,
          showArchitectureIndicator: this.props.showArchitectureIndicator === true,
          children: innerView
        });
      }
      return (0, _jsxRuntime.jsx)(_RootTag.RootTagContext.Provider, {
        value: (0, _RootTag.createRootTag)(this.props.rootTag),
        children: (0, _jsxRuntime.jsxs)(_View.default, {
          style: styles.appContainer,
          pointerEvents: "box-none",
          children: [!this.state.hasError && innerView, this.state.traceUpdateOverlay, this.state.devtoolsOverlay, this.state.inspector, logBox]
        })
      });
    }
  }]);
  return AppContainer;
}(React.Component);
AppContainer.getDerivedStateFromError = undefined;
var styles = _StyleSheet.default.create({
  appContainer: {
    flex: 1
  }
});
module.exports = AppContainer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVmlldyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX1JDVERldmljZUV2ZW50RW1pdHRlciIsIl9TdHlsZVNoZWV0IiwiX1Jvb3RUYWciLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfY3JlYXRlU3VwZXJJbnRlcm5hbCIsIlN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsInJlc3VsdCIsIk5ld1RhcmdldCIsImNvbnN0cnVjdG9yIiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImFyZ3VtZW50cyIsImFwcGx5IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwic2hhbSIsIlByb3h5IiwiQm9vbGVhbiIsInZhbHVlT2YiLCJyZWFjdERldlRvb2xzSG9vayIsIndpbmRvdyIsIl9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyIsIkFwcENvbnRhaW5lciIsIl9SZWFjdCRDb21wb25lbnQiLCJfaW5oZXJpdHMyIiwiX3N1cGVyIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2xlbiIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjb25jYXQiLCJzdGF0ZSIsImluc3BlY3RvciIsImRldnRvb2xzT3ZlcmxheSIsInRyYWNlVXBkYXRlT3ZlcmxheSIsIm1haW5LZXkiLCJoYXNFcnJvciIsIl9zdWJzY3JpcHRpb24iLCJfcmVhY3REZXZUb29sc0FnZW50TGlzdGVuZXIiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJtb3VudFJlYWN0RGV2VG9vbHNPdmVybGF5cyIsIkRldnRvb2xzT3ZlcmxheSIsImpzeCIsImluc3BlY3RlZFZpZXciLCJfbWFpblJlZiIsIlRyYWNlVXBkYXRlT3ZlcmxheSIsInNldFN0YXRlIiwiY29tcG9uZW50RGlkTW91bnQiLCJfdGhpczIiLCJfX0RFVl9fIiwicHJvcHMiLCJpbnRlcm5hbF9leGNsdWRlSW5zcGVjdG9yIiwiUkNURGV2aWNlRXZlbnRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJJbnNwZWN0b3IiLCJvblJlcXVlc3RSZXJlbmRlckFwcCIsInVwZGF0ZUluc3BlY3RlZFZpZXciLCJzIiwicmVhY3REZXZ0b29sc0FnZW50Iiwib24iLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZSIsIm9mZiIsInJlbmRlciIsIl90aGlzMyIsImxvZ0JveCIsImludGVybmFsX2V4Y2x1ZGVMb2dCb3giLCJMb2dCb3hOb3RpZmljYXRpb25Db250YWluZXIiLCJpbm5lclZpZXciLCJjb2xsYXBzYWJsZSIsInBvaW50ZXJFdmVudHMiLCJzdHlsZSIsInN0eWxlcyIsImFwcENvbnRhaW5lciIsInJlZiIsImNoaWxkcmVuIiwiV3JhcHBlciIsIldyYXBwZXJDb21wb25lbnQiLCJpbml0aWFsUHJvcHMiLCJmYWJyaWMiLCJzaG93QXJjaGl0ZWN0dXJlSW5kaWNhdG9yIiwiUm9vdFRhZ0NvbnRleHQiLCJQcm92aWRlciIsImNyZWF0ZVJvb3RUYWciLCJyb290VGFnIiwianN4cyIsIkNvbXBvbmVudCIsImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsInVuZGVmaW5lZCIsIlN0eWxlU2hlZXQiLCJjcmVhdGUiLCJmbGV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkFwcENvbnRhaW5lci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3dcbiAqL1xuXG5pbXBvcnQgdHlwZSB7Um9vdFRhZ30gZnJvbSAnLi9Sb290VGFnJztcblxuaW1wb3J0IFZpZXcgZnJvbSAnLi4vQ29tcG9uZW50cy9WaWV3L1ZpZXcnO1xuaW1wb3J0IFJDVERldmljZUV2ZW50RW1pdHRlciBmcm9tICcuLi9FdmVudEVtaXR0ZXIvUkNURGV2aWNlRXZlbnRFbWl0dGVyJztcbmltcG9ydCBTdHlsZVNoZWV0IGZyb20gJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQge3R5cGUgRXZlbnRTdWJzY3JpcHRpb259IGZyb20gJy4uL3ZlbmRvci9lbWl0dGVyL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQge1Jvb3RUYWdDb250ZXh0LCBjcmVhdGVSb290VGFnfSBmcm9tICcuL1Jvb3RUYWcnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCByZWFjdERldlRvb2xzSG9vayA9IHdpbmRvdy5fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XG5cbnR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgY2hpbGRyZW4/OiBSZWFjdC5Ob2RlLFxuICBmYWJyaWM/OiBib29sZWFuLFxuICB1c2VDb25jdXJyZW50Um9vdD86IGJvb2xlYW4sXG4gIHJvb3RUYWc6IG51bWJlciB8IFJvb3RUYWcsXG4gIGluaXRpYWxQcm9wcz86IHsuLi59LFxuICBzaG93QXJjaGl0ZWN0dXJlSW5kaWNhdG9yPzogYm9vbGVhbixcbiAgV3JhcHBlckNvbXBvbmVudD86ID9SZWFjdC5Db21wb25lbnRUeXBlPGFueT4sXG4gIGludGVybmFsX2V4Y2x1ZGVMb2dCb3g/OiA/Ym9vbGVhbixcbiAgaW50ZXJuYWxfZXhjbHVkZUluc3BlY3Rvcj86ID9ib29sZWFuLFxufH0+O1xuXG50eXBlIFN0YXRlID0ge3xcbiAgaW5zcGVjdG9yOiA/UmVhY3QuTm9kZSxcbiAgZGV2dG9vbHNPdmVybGF5OiA/UmVhY3QuTm9kZSxcbiAgdHJhY2VVcGRhdGVPdmVybGF5OiA/UmVhY3QuTm9kZSxcbiAgbWFpbktleTogbnVtYmVyLFxuICBoYXNFcnJvcjogYm9vbGVhbixcbnx9O1xuXG5jbGFzcyBBcHBDb250YWluZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBpbnNwZWN0b3I6IG51bGwsXG4gICAgZGV2dG9vbHNPdmVybGF5OiBudWxsLFxuICAgIHRyYWNlVXBkYXRlT3ZlcmxheTogbnVsbCxcbiAgICBtYWluS2V5OiAxLFxuICAgIGhhc0Vycm9yOiBmYWxzZSxcbiAgfTtcbiAgX21haW5SZWY6ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PjtcbiAgX3N1YnNjcmlwdGlvbjogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3JlYWN0RGV2VG9vbHNBZ2VudExpc3RlbmVyOiA/KCkgPT4gdm9pZCA9IG51bGw7XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjogYW55ID0gdW5kZWZpbmVkO1xuXG4gIG1vdW50UmVhY3REZXZUb29sc092ZXJsYXlzKCk6IHZvaWQge1xuICAgIGNvbnN0IERldnRvb2xzT3ZlcmxheSA9IHJlcXVpcmUoJy4uL0luc3BlY3Rvci9EZXZ0b29sc092ZXJsYXknKS5kZWZhdWx0O1xuICAgIGNvbnN0IGRldnRvb2xzT3ZlcmxheSA9IDxEZXZ0b29sc092ZXJsYXkgaW5zcGVjdGVkVmlldz17dGhpcy5fbWFpblJlZn0gLz47XG5cbiAgICBjb25zdCBUcmFjZVVwZGF0ZU92ZXJsYXkgPVxuICAgICAgcmVxdWlyZSgnLi4vQ29tcG9uZW50cy9UcmFjZVVwZGF0ZU92ZXJsYXkvVHJhY2VVcGRhdGVPdmVybGF5JykuZGVmYXVsdDtcbiAgICBjb25zdCB0cmFjZVVwZGF0ZU92ZXJsYXkgPSA8VHJhY2VVcGRhdGVPdmVybGF5IC8+O1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7ZGV2dG9vbHNPdmVybGF5LCB0cmFjZVVwZGF0ZU92ZXJsYXl9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCk6IHZvaWQge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuaW50ZXJuYWxfZXhjbHVkZUluc3BlY3Rvcikge1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb24gPSBSQ1REZXZpY2VFdmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoXG4gICAgICAgICAgJ3RvZ2dsZUVsZW1lbnRJbnNwZWN0b3InLFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IEluc3BlY3RvciA9IHJlcXVpcmUoJy4uL0luc3BlY3Rvci9JbnNwZWN0b3InKTtcbiAgICAgICAgICAgIGNvbnN0IGluc3BlY3RvciA9IHRoaXMuc3RhdGUuaW5zcGVjdG9yID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPEluc3BlY3RvclxuICAgICAgICAgICAgICAgIGluc3BlY3RlZFZpZXc9e3RoaXMuX21haW5SZWZ9XG4gICAgICAgICAgICAgICAgb25SZXF1ZXN0UmVyZW5kZXJBcHA9e3VwZGF0ZUluc3BlY3RlZFZpZXcgPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgICAgICAgICAgICAgICAgcyA9PiAoe21haW5LZXk6IHMubWFpbktleSArIDF9KSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gdXBkYXRlSW5zcGVjdGVkVmlldyh0aGlzLl9tYWluUmVmKSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpbnNwZWN0b3J9KTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChyZWFjdERldlRvb2xzSG9vayAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKHJlYWN0RGV2VG9vbHNIb29rLnJlYWN0RGV2dG9vbHNBZ2VudCkge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBpZiB0aGlzIGlzIG5vdCB0aGUgZmlyc3QgQXBwQ29udGFpbmVyIHJlbmRlcmVkIGFuZCBSZWFjdCBEZXZUb29scyBhcmUgYWxyZWFkeSBhdHRhY2hlZFxuICAgICAgICAgICAgdGhpcy5tb3VudFJlYWN0RGV2VG9vbHNPdmVybGF5cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX3JlYWN0RGV2VG9vbHNBZ2VudExpc3RlbmVyID0gKCkgPT5cbiAgICAgICAgICAgIHRoaXMubW91bnRSZWFjdERldlRvb2xzT3ZlcmxheXMoKTtcblxuICAgICAgICAgIHJlYWN0RGV2VG9vbHNIb29rLm9uKFxuICAgICAgICAgICAgJ3JlYWN0LWRldnRvb2xzJyxcbiAgICAgICAgICAgIHRoaXMuX3JlYWN0RGV2VG9vbHNBZ2VudExpc3RlbmVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBpZiAocmVhY3REZXZUb29sc0hvb2sgIT0gbnVsbCAmJiB0aGlzLl9yZWFjdERldlRvb2xzQWdlbnRMaXN0ZW5lciAhPSBudWxsKSB7XG4gICAgICByZWFjdERldlRvb2xzSG9vay5vZmYoJ3JlYWN0LWRldnRvb2xzJywgdGhpcy5fcmVhY3REZXZUb29sc0FnZW50TGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICBsZXQgbG9nQm94ID0gbnVsbDtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmludGVybmFsX2V4Y2x1ZGVMb2dCb3gpIHtcbiAgICAgICAgY29uc3QgTG9nQm94Tm90aWZpY2F0aW9uQ29udGFpbmVyID1cbiAgICAgICAgICByZXF1aXJlKCcuLi9Mb2dCb3gvTG9nQm94Tm90aWZpY2F0aW9uQ29udGFpbmVyJykuZGVmYXVsdDtcbiAgICAgICAgbG9nQm94ID0gPExvZ0JveE5vdGlmaWNhdGlvbkNvbnRhaW5lciAvPjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaW5uZXJWaWV3OiBSZWFjdC5Ob2RlID0gKFxuICAgICAgPFZpZXdcbiAgICAgICAgY29sbGFwc2FibGU9eyF0aGlzLnN0YXRlLmluc3BlY3RvciAmJiAhdGhpcy5zdGF0ZS5kZXZ0b29sc092ZXJsYXl9XG4gICAgICAgIGtleT17dGhpcy5zdGF0ZS5tYWluS2V5fVxuICAgICAgICBwb2ludGVyRXZlbnRzPVwiYm94LW5vbmVcIlxuICAgICAgICBzdHlsZT17c3R5bGVzLmFwcENvbnRhaW5lcn1cbiAgICAgICAgcmVmPXtyZWYgPT4ge1xuICAgICAgICAgIHRoaXMuX21haW5SZWYgPSByZWY7XG4gICAgICAgIH19PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvVmlldz5cbiAgICApO1xuXG4gICAgY29uc3QgV3JhcHBlciA9IHRoaXMucHJvcHMuV3JhcHBlckNvbXBvbmVudDtcbiAgICBpZiAoV3JhcHBlciAhPSBudWxsKSB7XG4gICAgICBpbm5lclZpZXcgPSAoXG4gICAgICAgIDxXcmFwcGVyXG4gICAgICAgICAgaW5pdGlhbFByb3BzPXt0aGlzLnByb3BzLmluaXRpYWxQcm9wc31cbiAgICAgICAgICBmYWJyaWM9e3RoaXMucHJvcHMuZmFicmljID09PSB0cnVlfVxuICAgICAgICAgIHNob3dBcmNoaXRlY3R1cmVJbmRpY2F0b3I9e1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93QXJjaGl0ZWN0dXJlSW5kaWNhdG9yID09PSB0cnVlXG4gICAgICAgICAgfT5cbiAgICAgICAgICB7aW5uZXJWaWV3fVxuICAgICAgICA8L1dyYXBwZXI+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPFJvb3RUYWdDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjcmVhdGVSb290VGFnKHRoaXMucHJvcHMucm9vdFRhZyl9PlxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmFwcENvbnRhaW5lcn0gcG9pbnRlckV2ZW50cz1cImJveC1ub25lXCI+XG4gICAgICAgICAgeyF0aGlzLnN0YXRlLmhhc0Vycm9yICYmIGlubmVyVmlld31cbiAgICAgICAgICB7dGhpcy5zdGF0ZS50cmFjZVVwZGF0ZU92ZXJsYXl9XG4gICAgICAgICAge3RoaXMuc3RhdGUuZGV2dG9vbHNPdmVybGF5fVxuICAgICAgICAgIHt0aGlzLnN0YXRlLmluc3BlY3Rvcn1cbiAgICAgICAgICB7bG9nQm94fVxuICAgICAgICA8L1ZpZXc+XG4gICAgICA8L1Jvb3RUYWdDb250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBhcHBDb250YWluZXI6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXBwQ29udGFpbmVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFZQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxzQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUcsUUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUks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