{"version":3,"names":["_getJestObj","mock","useForm","jest","fn","mockReturnValue","form","id","name","description","logo","releaseDate","reviewDate","setFormValue","onChange","_interopRequireDefault","require","_asyncToGenerator2","_react","_useProductRegister","_require","mockProductsContext","verifyProductId","createProduct","editProduct","describe","beforeEach","clearAllMocks","it","default","_renderHook","renderHook","useProductRegister","result","expect","current","toBe","_renderHook2","act","toHaveBeenCalled","_renderHook3","handleCreateOrUpdateProduct","waitFor","toHaveBeenCalledWith","any","Object"],"sources":["useProductRegister.test.ts"],"sourcesContent":["/**\n * @jest-environment jsdom\n*/ \nimport { renderHook, act, waitFor } from '@testing-library/react';\nimport useProductRegister from '../useProductRegister'; \n\nconst mockProductsContext = {\n  verifyProductId: jest.fn(),\n  createProduct: jest.fn(),\n  editProduct: jest.fn(),\n};\n\njest.mock('../useForm', () => ({\n  useForm: jest.fn().mockReturnValue({\n    form: {\n      id: 'mockId',\n      name: 'mockName',\n      description: 'mockDescription',\n      logo: 'mockLogo',\n      releaseDate: '2023-12-31',\n      reviewDate: '2024-10-31',\n    },\n    setFormValue: jest.fn(),\n    onChange: jest.fn(),\n  }),\n}));\n\ndescribe('useProductRegister', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('should show the correct data', async () => {\n    const { result } = renderHook(() => useProductRegister(null, mockProductsContext as any));\n\n    expect(result.current.form.id).toBe('mockId');\n    expect(result.current.form.name).toBe('mockName');\n    expect(result.current.form.logo).toBe('mockLogo');\n    expect(result.current.form.description).toBe('mockDescription');\n    expect(result.current.form.releaseDate).toBe('2023-12-31');\n    expect(result.current.form.reviewDate).toBe('2024-10-31');\n  });\n\n  it('the function should be called to update logo', () => {\n    const { result } = renderHook(() => useProductRegister(null, mockProductsContext as any));\n    \n     act(() => {\n        result.current.onChange('mockLogo2', 'logo');\n    });\n\n    expect(result.current.onChange).toHaveBeenCalled();\n    // expect(result.current.form.logo).toBe('mockLogo2');\n    //  waitFor(() => {\n    //   expect(result.current.form.logo).toBe('mockLogo2');\n    //   expect(result.current.onChange).toHaveBeenCalled();\n    // });\n  });\n\n  it('should call createProduct on form submission', async () => {\n    const { result } = renderHook(() => useProductRegister(null, mockProductsContext as any));\n  \n    // Llama a la función que desencadena la llamada a createProduct\n    act(() => {\n      result.current.handleCreateOrUpdateProduct();\n    });\n  \n    // Asegúrate de que la llamada a createProduct se haya realizado\n    await waitFor(() => {\n      expect(mockProductsContext.createProduct).toHaveBeenCalled();\n      // También puedes verificar si se llamó con algún argumento específico\n      expect(mockProductsContext.createProduct).toHaveBeenCalledWith(expect.any(Object));\n      // O cualquier otra aserción necesaria\n    });\n  });\n});\n"],"mappings":"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"}